if (typeof HdGame == "undefined") {
    HdGame = {}
}
(function(a) {
    a.encodeHtml = function(c) {
        return c && c.replace ? (c.replace(/&/g, "&amp;").replace(/ /g, "&nbsp;").replace(/\b&nbsp;+/g, " ").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\\/g, "&#92;").replace(/\'/g, "&#39;").replace(/\"/g, "&quot;").replace(/\n/g, "<br/>").replace(/\r/g, "")) : c
    }
    ;
    a.encodeUrl = function(c) {
        return typeof c === "undefined" ? "" : encodeURIComponent(c)
    }
    ;
    a.decodeHtml = function(c) {
        return c && c.replace ? (c.replace(/&nbsp;/gi, " ").replace(/&lt;/gi, "<").replace(/&gt;/g, ">").replace(/&#92;/gi, "\\").replace(/&#39;/gi, "'").replace(/&quot;/gi, '"').replace(/\<br\/\>/gi, "\n").replace(/&amp;/gi, "&")) : c
    }
    ;
    a.decodeUrl = function(c) {
        return typeof c === "undefined" ? "" : decodeURIComponent(c)
    }
    ;
    a.checkCharacterLen = function(c, g) {
        var h = g.val().replace(/[^\x00-\xff]/g, "**");
        var f = h.trim().length;
        var e = 0;
        for (var d = 0; d < f; d++) {
            e++
        }
        return e > c
    }
    ;
    a.checkTextLength = function(m, e) {
        var j = e.val().replace(/[^\x00-\xff]/g, "**");
        var d = j.length;
        if (d < m) {
            return
        }
        var h = j.substr(0, m);
        var g = 0;
        var k = "";
        for (var f = 0; f < h.length; f++) {
            var c = h.substr(f, 1);
            if (c == "*") {
                g++
            }
        }
        var l = 0;
        if (g % 2 == 0) {
            l = g / 2 + (m * 1 - g);
            k = e.val().substr(0, l)
        } else {
            l = (g - 1) / 2 + (m * 1 - g);
            k = e.val().substr(0, l)
        }
        e.val(k)
    }
    ;
    a.fadOut = function(c, d) {
        if (c.is(":visible")) {
            d && d();
            return
        }
        c.css("opacity", 0);
        c.show();
        c.addClass("poupFadIn");
        setTimeout(function() {
            c.removeClass("poupFadIn");
            c.css("opacity", 1);
            d && d()
        }, 200)
    }
    ;
    a.fadIn = function(c, d) {
        if (c.is(":hidden")) {
            d && d();
            return
        }
        c.css("opacity", 1);
        c.addClass("poupFadOut");
        setTimeout(function() {
            c.hide();
            c.removeClass("poupFadOut");
            c.css("opacity", 1);
            d && d()
        }, 200)
    }
    ;
    a.statusMsg = (function() {
        var e = null ;
        var g = '<div class="statusTip" style="display:none; opacity:0;"><div style="padding-top:0.75rem;line-height:1rem;"><div id="statusTip-msg"></div><div class="sTime" style="font-size:0.6rem; line-height:0.8rem">详情留意活动说明</div></div></div>';
        var c = $(g);
        var d = c.find("#statusTip-msg");
        var f = c.find(".sTime");
        var h = false;
        return function(j, i) {
            var k = "";
            if (j === 1) {
                k = "活动尚未开始";
                f.text("活动开始时间为" + g_config.startTime)
            }
            if (j === 3) {
                k = "活动已结束";
                f.text("请关注期待下次活动")
            }
            if (j === 4) {
                k = "您今天已经没有抽奖机会了";
                f.text("明天可继续抽奖哦")
            }
            if (j === 5) {
                k = "未授权用户无法进行游戏。"
            }
            if (j === 6) {
                k = "您的抽奖机会已经用完"
            }
            if (j === 7) {
                k = "您今天已经没有参与机会了";
                f.text("明天可继续参与哦")
            }
            if (typeof j === "string") {
                k = j
            }
            d.html(k);
            if (typeof i === "string") {
                f.text(i)
            } else {
                if (i) {
                    f.hide()
                } else {
                    f.show()
                }
            }
            if (j == 4) {
                c.css("width", "13.5rem")
            } else {
                c.css("width", "11rem")
            }
            if (j == 4 && g_config.showHelpGuide) {
                $("#helpGuideBox").show();
                return
            }
            if (!h) {
                $("body").append(c);
                h = true
            }
            clearTimeout(e);
            a.fadOut(c);
            e = setTimeout(function() {
                a.fadIn(c, function() {
                    c.remove();
                    h = false
                })
            }, 2000)
        }
    })();
    a.showMsgToast = function(f, d, e) {
        var c = $("<div class='msg-toast " + e + "' style='display: none;'>" + f + "</div>");
        $("body").append(c);
        c.fadeIn(300);
        setTimeout(function() {
            c.fadeOut(300, function() {
                c.remove()
            })
        }, d)
    }
    ;
    a.unPublishMsg = function() {
        var c = '<div class="unPublish">活动尚未发布，当前仅供预览</div>';
        $("body").prepend(c)
    }
    ;
    a.share = function() {
        if ($("#sharePanel").length > 0) {
            $("#sharePanel").show();
            return
        }
        $("body").append("<div id='sharePanel'></div>");
        $("#sharePanel").on("touchend touchstart", function() {
            $(this).hide()
        })
    }
    ;
    a.favorite = function() {
        a.logDog(1000045, 2);
        if ((g_config.wxAward && g_config.wxAward.genewxcard) ) {
            return
        }
        if ($("#favoritePanel").length > 0) {
            $("#favoritePanel").show();
            return
        }
        $("body").append("<div id='favoritePanel'></div>");
        $("#favoritePanel").on("touchend touchstart", function(c) {
            setTimeout(function() {
                $("#favoritePanel").hide()
            }, 500)
        })
    }
    ;
    a.getLevelName = function(c) {
        c = parseInt(c);
        switch (c) {
        case 1:
            return "一等奖";
        case 2:
            return "二等奖";
        case 3:
            return "三等奖";
        case 4:
            return "四等奖";
        case 5:
            return "五等奖";
        case 6:
            return "六等奖";
        case 7:
            return "七等奖";
        case 8:
            return "八等奖";
        case 900:
            return "安慰奖"
        }
    }
    ;
    a.getStatusName = function(c) {
        switch (c) {
        case 0:
            return "未领取";
        case 1:
            return "已兑奖";
        case 2:
            return "未兑奖";
        case 3:
            return "已过期";
        case 4:
            return "已作废"
        }
    }
    ;
    a.setRemBase = function() {
        var d = window.screen.width - $(window).height();
        var c = Math.min($(window).width(), $(window).height() + d) / 16;
        if (c == 0) {
            c = "20px"
        }
        $("html").css("font-size", c)
    }
    ;
    (function() {
        var e = null ;
        _lastWrap = null ,
        _stop = function(f) {
            if (f) {
                if (f.data("_guide")) {
                    f.data("_guide").remove();
                    f.removeData("_guide")
                }
            } else {
                if (e) {
                    e.remove();
                    e = null ;
                    _lastWrap && _lastWrap.removeData("_guide")
                }
            }
        }
        ;
        var d = function(j, l, m) {
            var g = $('<div class="ball-scale-multiple"><div></div><div></div><div></div></div>');
            if (j.css("position") === "static") {
                j.css("position", "relative")
            }
            if (typeof l === "object" && typeof l.x !== "undefined" && typeof l.y !== "undefined" && typeof l.w !== "undefined" && typeof l.h !== "undefined") {
                var k = Math.min(l.w, l.h) * (m || 1);
                g.children().css({
                    width: k,
                    height: k
                });
                g.css({
                    left: l.x + (l.w - k) / 2,
                    top: l.y + (l.h - k) / 2
                })
            } else {
                m = m || 0.8;
                var f = j.outerHeight();
                var h = j.outerWidth();
                var i = (l === "w" ? h / 2 : (l === "h" ? f / 2 : (l === "min" ? Math.min(f, h) / 2 : Math.max(f, h) / 2))) * m;
                g.css({
                    left: h / 2 - i,
                    top: f / 2 - i
                });
                g.children().css({
                    width: 2 * i,
                    height: 2 * i
                })
            }
            j.append(g);
            e = g;
            j.data("_guide", g);
            _lastWrap = j
        }
        ;
        var c = {
            play: d,
            stop: _stop
        };
        a.Guide = c
    })();
    a.homePoup = function(c) {
        if (c == 1) {
            $("#rankBox").show()
        } else {
            if (c == 3) {
                $("#awardBox").show()
            } else {
                if (c == 4) {
                    $("#regAwardBox").show()
                }
            }
        }
        $("#poupInfoBox").show()
    }
    ;
    a.poupAjaxComplete = function(c) {
        var d = $(".ajaxLoadBar");
        d.addClass("ajaxComplete");
        $(".ajaxLoadBg").hide();
        setTimeout(function() {
            d.removeClass("ajaxLoad");
            d.removeClass("ajaxComplete")
        }, 500)
    }
    ;
    (function() {
        var q = {
            rankUrl: "",
            awardUrl: "",
            getRegAwardUrl: "",
            mhaveScore: 0,
            openId: "",
            gameId: 0,
        };
        var f = {
            menuLen: "",
            slideBarWidth: "",
            slideBarMaxWidth: "",
            marginLeft: false,
            firstTouchRank: true,
            firstTouchAward: true,
            firstTouchWinList: true,
            hasInitEvent: false,
        };
        var o = {
            isLoad: false,
            isRankAll: false,
            start: 0,
            num: 0,
            limit: 99
        };
        a.initChangePoup = function(r) {
            $.extend(q, r);
            if (_manage) {
                $("#Award_Round_Dot").show()
            }
            f.menuLen = 0;
            $(".poupTitleBox .poupTitleMune").each(function() {
                if ($(this).css("display") == "block") {
                    f.menuLen++
                }
            });
            $("#awardBox").css("height", $("#poupInfoBox").height() - $(".poupHead").height());
            $(".popTabBox").css("width", $(window).width() * f.menuLen);
            var s = null ;
            $(".poupTitleBox .poupTitleMune").each(function(x, z) {
                var w = $(this).attr("_flag");
                for (var y = 0; y < $("#poupInfoBox .poupMain").length; y++) {
                    var v = $("#poupInfoBox .poupMain").eq(y);
                    if (v.attr("_flag") == w) {
                        if (s) {
                            s = s.add(v)
                        } else {
                            s = v
                        }
                        return
                    }
                }
            });
            $("#poupInfoBox .poupMain").not(s).remove();
            $("#poupInfoBox .poupMain").css("width", 100 / f.menuLen + "%");
            $(".poupTitleBox .poupTitleMune,.poupTitleBox .slideBarTip").css("width", 13.25 / f.menuLen + "rem");
            f.slideBarWidth = parseInt($(".poupTitleBox .poupTitleMune").css("width"));
            f.slideBarMaxWidth = parseInt($(".poupTitleBox .slideBarTip").css("max-width"));
            if (f.slideBarWidth > f.slideBarMaxWidth) {
                f.marginLeft = true
            }
            $("#poupInfoBox .poupMain").css("height", $(window).height() - $(".poupHead").height());
            var t = parseInt($("html").css("font-size"));
            var u = $("#poupInfoBox").height() - $(".poupHead").height() - 3.8 * t;
            $("#poupInfoBox .poupMain").css("height", u);
            if (!f.hasInitEvent) {
                l();
                f.hasInitEvent = true
            }
        }
        ;
        function l() {
            var r = _manage ? "click" : "touchstart";
            $(".poupTitleBox .poupTitleMune").on(r, function() {
                var t = $(this).index();
                var s = parseInt($(this).attr("_flag"));
                a.changePoup(s, t)
            });
            $("#rankBox").scroll(function(s) {
                if (o.isClose) {
                    return
                }
                if ($("#rankHeight").height() - $("#rankHeight").height() / 3 <= $(window).height() + $("#rankBox").scrollTop()) {
                    if (!o.isLoad && !o.isRankAll) {
                        o.isLoad = true;
                        i()
                    }
                }
            })
        }
        a.changePoup = function(s, t) {
            o.isClose = false;
            $("#poupInfoBox").show();
            $(".poupTitleMune").removeClass("checked");
            if (s == 5 && q.hasReport == true) {
                $("#informResultBox h3").text("你已经投诉过了！");
                $("#informResultBox").show()
            } else {
                if (typeof t === "number") {
                    $(".poupTitleMune").eq(t).addClass("checked")
                } else {
                    $(".poupTitleBox .poupTitleMune").each(function(v, w) {
                        if ($.trim($(this).attr("_flag")) == s) {
                            t = v;
                            $(this).addClass("checked")
                        }
                    })
                }
            }
            if (_manage) {
                var u = $.trim($(".poupTitleMune").eq(t).find(".item").text());
                var r = parent.$("#editActive .topBar .column");
                if (u == "活动说明") {
                    r.eq(2).addClass("checked");
                    parent.$(".topBar .transitionPanel").css("left", (r.eq(2).offset().left + 2) + "px")
                } else {
                    r.each(function() {
                        var v = $.trim($(this).find(".name").text());
                        if (v == u) {
                            parent.$(".topBar .transitionPanel").css("left", ($(this).offset().left + 2) + "px");
                            r.removeClass("checked");
                            $(this).addClass("checked")
                        }
                    })
                }
            }
            if (f.marginLeft) {
                $(".poupSlideBar .slideBarTip").css("left", ((13.25 / f.menuLen) * t + (f.slideBarWidth - f.slideBarMaxWidth) / 40) + "rem")
            } else {
                $(".poupSlideBar .slideBarTip").css("left", (13.25 / f.menuLen) * t + "rem")
            }
            e(s);
            $(".popTabBox").css("left", -$(window).width() * t)
        }
        ;
        function e(r) {
            $("#poupInfoBox").removeClass("poupFadOut").addClass("poupFadIn");
            if (!_manage) {
                $(".gameBox,.home,.body").addClass("overflow-y-hidden");
                g_config.showSkillSup && $(".bottomSkill").hide()
            }
            $(".poupClose").off("touchend");
            setTimeout(function() {
                $(".poupClose").on("touchend", function() {
                    f.firstTouchRank = true;
                    f.firstTouchAward = true;
                    f.firstTouchWinList = true;
                    o.isClose = true;
                    o.isRankAll = false;
                    o.num = o.start = 0;
                    $("#rankInfoBox").html("");
                    $(".poupTitleMune").removeClass("checked");
                    $(".poupTitleMune").eq(0).addClass("checked");
                    var s = $("#poupInfoBox");
                    s.removeClass("poupFadIn").addClass("poupFadOut");
                    if (!_manage) {
                        $(".gameBox,.home,.body").removeClass("overflow-y-hidden");
                        g_config.showSkillSup && $(".bottomSkill").show()
                    }
                    setTimeout(function() {
                        s.hide();
                        $(".popTabBox").css("left", 0);
                        $(".poupSlideBar .slideBarTip").css("left", (f.slideBarWidth - f.slideBarMaxWidth) / 40 + "rem")
                    }, 100);
                    hg.fire("hidePoup", r)
                })
            }, 500);
            if (r === 1) {
                d(r)
            } else {
                if (r === 2) {
                    g(r)
                } else {
                    if (r === 3) {
                        k(r)
                    } else {
                        if (r === 4) {
                            h(r)
                        } else {
                            if (r === 5) {
                                j(r)
                            }
                        }
                    }
                }
            }
            hg.fire("showPoup", r)
        }
        function n() {
            var r = $("#loadingTxt").html();
            if (r === "正在加载中..." || r === "") {
                $("#loadingTxt").html("正在加载中.")
            } else {
                if (r === "正在加载中.") {
                    $("#loadingTxt").html("正在加载中..")
                } else {
                    $("#loadingTxt").html("正在加载中...")
                }
            }
            o.timer = setTimeout(arguments.callee, 300)
        }
        function m() {
            $("#rankHeight").find("#loadingTxt").remove();
            clearTimeout(o.timer)
        }
        function i(r) {
            if ($("#loadingTxt").length == 0) {
                $("#rankHeight").append('<div id="loadingTxt" class="rankInfo" style="text-align: left; margin: 0 auto; line-height:2.5rem; font-size:0.6rem; width: 3.8rem; ">正在加载中...</div>');
                n()
            } else {
                return
            }
            $.ajax({
                type: "post",
                url: q.rankUrl + "&start=" + o.start + "&limit=" + o.limit + "&playerId=" + g_config.playerId,
                error: function() {
                    if (o.num == 0) {
                        a.poupAjaxComplete(r)
                    }
                    o.isLoad = false
                },
                success: function(u) {
                    a.tlog(u);
                    var v = $.parseJSON(u);
                    var s = v.rankList;
                    var w = v.rank;
                    var t = $("#rankInfoBox");
                    if (v.isRankAll) {
                        o.isRankAll = true
                    }
                    if (o.num == 0) {
                        a.poupAjaxComplete(r)
                    }
                    setTimeout(function() {
                        if (w == 0) {
                            $("#rank").text("无")
                        } else {
                            $("#rank").text(w + "位")
                        }
                        a.logDog(1000010);
                        var x = s.length;
                        if (x == 0) {
                            $("#noRank").show()
                        } else {
                            $("#rankMain").show();
                            for (var z = 0; z < s.length; z++) {
                                if (o.start + z + 1 >= rankShowNum) {
                                    o.isRankAll = true
                                }
                                var F = s[z].info.length > 0 ? $.parseJSON(s[z].info).headImg : null ;
                                var y = F == null ? "" : "src='" + F + "'";
                                var E = "";
                                if (g_config.isDoubleGame) {
                                    var A = s[z].info.length > 0 ? $.parseJSON(s[z].info).headImgB : null ;
                                    var D = A == null ? "" : "src='" + A + "'";
                                    E = '<img class="userImg" ' + D + " />"
                                }
                                var C = '<tr class="rankInfo"><td>No.' + (o.start + z + 1) + '</td><td><div><img class="userImg" ' + y + " />" + E + '</div></td><td class="userName">' + s[z].name + "</td><td >" + s[z].achievement + '<span class="scoreUnit">' + g_config.scoreUnit + "</span></td></tr>";
                                t.append(C)
                            }
                            if (o.isRankAll && w > rankShowNum) {
                                var y = userInfo.headImg ? "src='" + userInfo.headImg + "'" : "";
                                var B = '<tr class="rankInfo" style="line-height:0.85rem"><td colspan="4" style="padding-bottom:0.35rem">......</td></tr><tr class="rankInfo"><td>No.' + w + '</td><td><div><img class="userImg" ' + y + ' /></div></td><td class="userName">' + userInfo.userName + "</td><td >" + (g_config.scoreType ? a.currentScore : parseInt(a.currentScore)) + '<span class="scoreUnit">' + g_config.scoreUnit + "</span></td></tr>";
                                t.append(B)
                            }
                        }
                        o.isLoad = false;
                        o.num++;
                        o.start = o.num * (o.limit + 1)
                    }, 500);
                    if (o.num == 0) {
                        f.firstTouchRank = false
                    }
                    m()
                }
            })
        }
        function d(x) {
            if (g_config.isDoubleGame) {
                $("#rankBox").addClass("isDoubleGame")
            }
            if (_manage) {
                var y = [{
                    name: "magazine",
                    achievement: 999
                }, {
                    name: "hubert",
                    achievement: 999
                }, {
                    name: "lvox",
                    achievement: 999
                }, {
                    name: "hth",
                    achievement: 999
                }];
                $("#rankMain").show();
                a.homePoup(x);
                var t = $("#rankInfoBox");
                t.find(".rankInfo").remove();
                var v = "";
                w = typeof (w) == "undefined" || w.trim() == "" ? g_config.scoreUnit : w;
                if (g_config.isDoubleGame) {
                    v = '<div class="userImg manImg"></div><div class="userImg girlImg"></div>'
                } else {
                    v = '<div class="userImg manImg"></div>'
                }
                var r = window.parent.document;
                var s = $(r).find("#setGameUnit").val();
                var w = typeof (s) == null || s === "" ? g_config.scoreUnit : Fai.encodeHtml($(r).find("#setGameUnit").val());
                for (var u = 0; u < y.length; u++) {
                    var z = '<tr class="rankInfo"><td>No.' + (u + 1) + "</td><td>" + v + '</td><td class="userName">' + a.encodeHtml(y[u].name) + "</td><td >" + y[u].achievement + '<span class="scoreUnit">' + w + "</span></td></tr>";
                    t.append(z)
                }
            } else {
                a.logDog(1000010, 0);
                if (f.firstTouchRank) {
                    $(".ajaxLoadBg").show();
                    $(".ajaxLoadBar").addClass("ajaxLoad");
                    $("#noRank").hide();
                    $("#rankMain").hide();
                    i(x)
                }
            }
        }
        function g(r) {
//          if (!_manage) {
//              if (skillSupportType == 2 || skillSupportType == 3) {
//                  if (g_config.authVer == HdVerDef.FREE) {
//                      a.logDog(1000069, 1)
//                  } else {
//                      if (g_config.authVer == HdVerDef.BJ) {
//                          a.logDog(1000069, 3)
//                      } else {
//                          if (g_config.authVer == HdVerDef.BY) {
//                              a.logDog(1000069, 5)
//                          }
//                      }
//                  }
//                  a.logDog(1000028, 2)
//              }
//          }
//          if (isLimitDraw && (drawTimesLimit == drawTotalLimit)) {
//              $("#explainBox").find(".dayFont").hide();
//              $("#explainBox").find(".drawTotalFont").hide()
//          }
//          if (!isLimitDraw) {
//              $("#explainBox").find(".drawTotalFont").hide()
//          }
//          $("#ruleBox").show();
//          $("#poupInfoBox").show();
//          if (!q.mhaveScore) {
//              $("#haveScore").hide()
//          }
//          a.logDog(1000009)
        }
        function k(y) {
            if (!_manage) {
                a.logDog(1000011, 0)
            }
            var r = new Array();
            var v = $("#awardInfo");
            $("#poupInfoBox,#awardBox").show();
            if (!_manage && g_config.showSkillSup) {
                if (g_config.authVer == HdVerDef.FREE) {
                    a.logDog(1000069, 0)
                } else {
                    if (g_config.authVer == HdVerDef.BJ) {
                        a.logDog(1000069, 2)
                    } else {
                        if (g_config.authVer == HdVerDef.BY) {
                            a.logDog(1000069, 4)
                        }
                    }
                }
                a.logDog(1000028, 1)
            }
            if (g_config.aid == 7171826 && g_config.showSkillSup) {
                a.logDog(1000062, 0)
            } else {
                if (g_config.aid == 8566249 && g_config.showSkillSup) {
                    a.logDog(1000067, 0)
                }
            }
            g_config.showMenu && a.logDog(1000036);
            if (_manage) {
                var x = parent.awardList[0];
                var t = x.cbt.replace("-", ".").replace("-", ".");
                var z = x.cet.replace("-", ".").replace("-", ".");
                var s = x.style;
                var A = x.name;
                var B = x.awardtype;
                var u = "使用期限";
                if (B > 1) {
                    u = "兑奖期限"
                }
                var w = '<div class="codeInfoBox" ><div class="djqImgBox"></div><div class="isEmptyAward ellipsis" style="width: 11rem;margin-left:0.6rem;">' + a.encodeHtml(s) + "：" + a.encodeHtml(A) + '</div><div class="codeperiod" style="margin: 0.25rem 0.6rem;line-height:1.4rem;"><span>' + a.encodeHtml(u) + "</span>：" + t + " 至 " + z + '</div><div class="goDetailIcon"></div><div class="awardWrap"></div><div style="color:#ecb208;line-height:0.6rem;margin-left:0.6rem;">未兑奖</div></div>';
                v.html("");
                v.append(w);
                a.homePoup(y)
            } else {
                r.push("gameId=", q.gameId);
                r.push("&openId=", q.openId);
                if (g_config.isDoubleGame) {
                    r.push("&openIdB=", a.otherOpenId)
                }
                if (f.firstTouchAward) {
                    $(".ajaxLoadBg").show();
                    $(".ajaxLoadBar").addClass("ajaxLoad");
                    $.ajax({
                        type: "post",
                        url: q.awardUrl,
                        data: r.join(""),
                        error: function() {
                            a.poupAjaxComplete(y)
                        },
                        success: function(D) {
                            a.poupAjaxComplete(y);
                            a.tlog(D);
                            var C = $.parseJSON(D);
                            $("#Award_Round_Dot").hide();
                            a.logDog(1000011);
                            if (C.success) {
                                p(C.list)
                            } else {
                                $("#awardInfo").html("<div>暂无中奖纪录</div>")
                            }
                            f.firstTouchAward = false
                        }
                    })
                }
            }
        }
        function c(s, r) {
            var t = s.repalce(/-/g, "/");
            t = new Date(t).getTime();
            return t > r
        }
        function p(I) {
            var s = $("#awardInfo");
            var z = "";
            s.html("");
            var u = $("#resulte-gift-showMyAward").data("openCode");
            var r = null ;
            for (var F = 0; F < I.length; F++) {
                var B = I[F];
                var t = $.parseJSON(B.awardInfo);
                var D = t.awardtype;
                var y = "使用期限";
                var A = "优惠码";
                var K = "收藏优惠码";
                var L = "门店地址";
                var C = "使用须知";
                var E = "优惠券详情";
                if (D == 2 || D == 3) {
                    y = "兑奖期限";
                    A = "兑奖码";
                    K = "收藏兑奖码";
                    L = "兑奖地址";
                    E = "兑奖券详情";
                    C = "兑奖须知"
                }
                if (t.genewxcard) {
                    var J = true;
                    var M = B.depositTime;
                    if (M && M < Date.parse(new Date())) {
                        J = false
                    }
                    K = (J ? "放入" : "打开") + "微信卡券";
                    $("#awardCollectionBtn").attr("isWxCard", true)
                }
                var G = (t.cbt).replace("-", ".").replace("-", ".");
                var H = (t.cet).replace("-", ".").replace("-", ".");
                B.collectionBtn = K;
                B.collectionBtn = K;
                B.addressName = L;
                B.awardCusText = E;
                B.titleNotice = C;
                B.codeName = A;
                B.codeEndTime = H;
                B.codeBgTime = G;
                B.awardTypeName = y;
                var w = (B.custom && B.custom.length > 0) ? B.custom : B.code;
                var x = B.level;
                var v = B.awardName;
                if (B.anwei) {
                    x = B.awardLevel;
                    v = B.award;
                    w = (B.cusCode && B.cusCode.length > 0) ? B.cusCode : B.code
                }
                B.awardCode = w;
                z = '<div id="codeInfo' + B.code + '" class="codeInfoBox" _level="' + x + '"><div class="djqImgBox"></div><div class="isEmptyAward ellipsis" style="width: 11rem;margin-left:0.6rem;font-size:0.7rem;">' + a.encodeHtml(B.awardStyle) + "：" + a.encodeHtml(v) + '</div><div class="codeperiod" style="margin: 0.25rem 0.6rem;line-height:1.4rem;"><span>' + a.encodeHtml(y) + "</span>：" + G + " 至 " + H + '</div><div class="goDetailIcon"></div><div class="awardWrap"></div><div style="color: #ecb208;margin-left:0.6rem;">' + a.getStatusName(B.codeStatus) + "</div></div>";
                s.append(z);
                $("#codeInfo" + B.code).data("data", B);
                if (u == w) {
                    r = B
                }
            }
            if (r) {
                a.openAwardDetail(r);
                $("#resulte-gift-showMyAward").removeData("openCode")
            }
        }
        a.openAwardDetail = function(u) {
            if (!u || !u.awardInfo) {
                u = $(this).data("data")
            }
            var r = $.parseJSON(u.awardInfo);
            g_config.award = u;
            g_config.wxAward = r;
            if (r.continfo) {
                if (g_config.award && ((gameType == 0 || gameType == 4) && r.oplink)) {
                    var w = r.continfo;
                    var F = w & 1;
                    var t = w & 2;
                    var C = w & 4;
                    var x = F && !g_config.isRegUserName;
                    var v = t && !g_config.isRegPhone;
                    var z = C && !g_config.isRegAddress;
                    if (x || v || z) {
                        a.aUserInfo.show(arguments, this);
                        if (w) {
                            $("#awardUserInfoBox .contactInput").hide();
                            if (F) {
                                $("#awardUserInfoBox .contactInput").eq(0).show()
                            }
                            if (t) {
                                $("#awardUserInfoBox .contactInput").eq(1).show()
                            }
                            if (C) {
                                $("#awardUserInfoBox .contactInput").eq(2).show()
                            }
                        }
                        return
                    }
                }
            } else {
                if (!g_config.isRegPhone && g_config.award && ((gameType == 0 || gameType == 4) && r.oplink)) {
                    a.aUserInfo.show(arguments, this);
                    $("#addressInput").hide();
                    return
                }
            }
            var H = $("#awardDetailBox");
            var s = $("#ticketDetailBox");
            if (u.codeStatus == 4) {
                $("#codeStatusBtn").html("已作废");
                $("#codeStatusBox").show();
                $("#codeDetailInfoBox").hide()
            } else {
                if (u.codeStatus == 1) {
                    $("#codeStatusBtn").html("已兑奖");
                    $("#codeStatusBox").show();
                    $("#codeDetailInfoBox").hide();
                    $("#codeStatusInfo").hide();
                    if (r.genewxcard) {
                        $("#awardCollectionBtn").hide()
                    }
                } else {
                    if (u.codeStatus == 3) {
                        $("#codeStatusBtn").html("已过期");
                        $("#codeStatusBox").show();
                        $("#codeDetailInfoBox").hide();
                        $("#codeStatusInfo").hide()
                    } else {
                        var B = new Date().getTime();
                        var D = u.codeBgTime.replace(/\./g, "/");
                        var E = new Date(D).getTime();
                        if (E > B) {
                            var A = Math.ceil((E - B) / (1000 * 60 * 60 * 24));
                            var y = "";
                            if (r.awardtype == 0 || r.awardtype == 1) {
                                y = "优惠券"
                            }
                            if (r.awardtype == 2) {
                                y = "兑奖券"
                            }
                            $("#codeStatusTips .giftNameA").text(y);
                            $("#codeStatusTips .targetDateMin").text(A);
                            $("#codeStatusBox").show();
                            $("#codeDetailInfoBox").hide();
                            $("#codeStatusInfo").hide();
                            $("#codeStatusBtn").html("未到兑奖时间").css("width", "5.5rem");
                            $("#codeStatusTips").show()
                        } else {
                            $("#codeStatusBox").hide();
                            $("#codeDetailInfoBox").show();
                            $("#codeStatusInfo").show()
                        }
                    }
                }
            }
            H.find(".awardName").text(r.name);
            H.find(".awardSubTitle").text(r.stl);
            H.find(".awardCodeTime em").text(u.awardTypeName);
            H.find(".awardCodeTime .codeBgTime").text(u.codeBgTime);
            console.log(u);
            $("#codeName").text(u.codeName);
            $("#awardCollectionBtn").text(u.collectionBtn);
            var G = u.gameid || u.gameId;
            H.find(".awardCodeTime .codeEndTime").text(u.codeEndTime);
            H.find(".codeImg").attr("src", "http://" + a.gameDomain + "/manage/qrCode.jsp?cmd=qrurl&siteUrl=" + a.encodeUrl(u.awardLevel == 900 ? ("id=" + u.id + "&code=" + u.code + "&gameId=" + G) : ("code=" + u.awardCode + "&gameId=" + G)));
            H.find(".code").text(u.awardCode);
            H.find(".code").attr("code", u.code);
            H.find(".codeOptInfo").text(r.opti);
            if (q.afterWxCard) {
                $(".awardCusText").show();
                $(".awardCusBtn").show();
                if (r.awardtype == 1 || (r.awardtype == 2 && r.cashtype == 1)) {
                    s.find(".addressLine").hide();
                    H.find(".awardCusText").show();
                    if (r.awardtype == 1) {
                        H.find(".awardCusBtn .text").text("商城地址")
                    } else {
                        H.find(".awardCusBtn .text").text("兑奖地址")
                    }
                    if (r.awardtype == 2 && r.cashtype == 1 && r.onlinect == 1) {
                        $("#QRImg_1").attr("src", r.onlinewxnum);
                        $("#awardCusBtnInfo").attr("href", "###");
                        H.find("#awardCusBtnInfo").on("click", function() {
                            $("#newAttentionMask").show()
                        })
                    } else {
                        H.find("#awardCusBtnInfo").attr("href", r.cashsite)
                    }
                    s.find(".itemList .address").html(r.cashsite);
                    if (!$.trim(r.servicepho) && !$.trim(r.cashinfo) && (!r.tlmt || r.tlmt == "[8]" || r.tlmt == "[1,2,3,4,5,6,7]")) {
                        H.find(".awardCusText").hide()
                    }
                } else {
                    s.find(".itemList .address").text(r.cashsite.replace("http://", ""));
                    if (r.oct) {
                        H.find(".awardCusBtn .text").text(r.btn);
                        H.find("#awardCusBtnInfo").attr("href", r.btl)
                    } else {
                        $(".awardCusBtn").hide()
                    }
                }
                H.find(".awardCusText .text").html(u.awardCusText);
                s.find(".ticketitle .text").html(u.awardCusText);
                s.find(".itemList .beginTime").html(u.codeBgTime.replace(/-/g, "."));
                s.find(".itemList .endTime").html(u.codeEndTime.replace(/-/g, "."));
                s.find(".itemList .timelimit").text(a.changeTimeLimit(r.tlmt));
                s.find(".itemList .titleAdress").html(u.addressName);
                s.find(".itemList .tel").text(r.servicepho);
                s.find(".itemList .titleNotice").text(u.titleNotice);
                s.find(".itemList .notice").html('<pre style="word-wrap: break-word;"></pre>');
                s.find(".itemList .notice pre").text(r.cashinfo)
            } else {
                if (r.optx) {
                    H.find(".awardCusText .text").text(r.txn);
                    H.find("#awardCusTextInfo").text(r.txc)
                } else {
                    $(".awardCusText").hide()
                }
                if (r.oct) {
                    H.find(".awardCusBtn .text").text(r.btn);
                    H.find("#awardCusBtnInfo").attr("href", r.btl)
                } else {
                    $(".awardCusBtn").hide()
                }
            }
            if (r.awardtype != 1 && r.cashtype == 2) {
                a.logDog(1000085);
                if (r.attention == 3) {
                    $("#awardCusBtnInfo").attr("href", "###");
                    $("#QRImg_1").attr("src", r.attentionimg);
                    $("#awardCusBtnInfo").on("touchend", function() {
                        a.logDog(1000086);
                        $("#newAttentionMask").show()
                    })
                } else {
                    if (r.attention == 2) {
                        $("#awardCusBtnInfo").attr("href", r.btl)
                    }
                }
            }
            a.tlog(r);
            if (typeof r.opqrc === "undefined" || r.opqrc) {
                $("#awardDetailBox .codeImg ").show()
            } else {
                $("#awardDetailBox .codeImg,#awardDetailBox .codeDetailImgBox").hide()
            }
            setWxShareUrlArg(["fromFav", u.awardCode]);
            a.logDog(1000056);
            a.logDog(1000045, 1);
            $("#awardDeailBg").show();
            $("#awardDetailBox").show();
            setTimeout(function() {
                $("#awardDeailBg").hide()
            }, 800)
        }
        ;
        function h(r) {
            $("#regAwardBox").show();
            if (_manage) {
                a.homePoup(r);
                var v = [];
                var u = ["lvox、hubert", '<span style="color:#fff000">magazine</span>、tina', "monica、hth"];
                var t = $(".regAwardList");
                t.find(".playerName").html("");
                t.each(function(w) {
                    $(this).find(".playerName").html(u[w])
                })
            } else {
                a.logDog(1000034);
                var s = q.getRegAwardUrl;
                if (g_config.isDoubleGame) {
                    var s = s + "&openIdB=" + a.otherOpenId
                }
                if (f.firstTouchWinList) {
                    $(".ajaxLoadBg").show();
                    $(".ajaxLoadBar").addClass("ajaxLoad");
                    $.ajax({
                        type: "post",
                        url: s,
                        error: function() {
                            a.poupAjaxComplete(r)
                        },
                        success: function(w) {
                            a.tlog(w);
                            var x = $.parseJSON(w);
                            a.poupAjaxComplete(r);
                            $("#Mingdan_Round_Dot").hide();
                            setTimeout(function() {
                                var B = [];
                                var y = $(".regAwardList");
                                y.find(".playerName").html("");
                                $("#noRegAward").hide();
                                $("#regAwardMain").show();
                                for (var z = 0; z < y.length; z++) {
                                    var A = {};
                                    A.name = [];
                                    B.push(A)
                                }
                                if (x.length == 0) {
                                    $("#noRegAward").show();
                                    $("#regAwardMain").hide();
                                    return
                                }
                                $(x).each(function() {
                                    var E = $(this)[0].isSelf;
                                    var G = $(this)[0].awardLevel;
                                    var D = G - 1;
                                    if (G == 900) {
                                        D = y.length - 1
                                    }
                                    var F = "";
                                    if (E) {
                                        F = 'style="color:#fff000;"'
                                    }
                                    var C = "<span " + F + ">" + $(this)[0].name + "</span>";
                                    B[D].name.push(C)
                                });
                                for (var z = 0; z < B.length; z++) {
                                    y.eq(z).find(".playerName").append(B[z].name.join("、"))
                                }
                                $("#regAwardMain").show()
                            }, 500);
                            f.firstTouchWinList = false
                        }
                    })
                }
            }
        }
        function j(r) {
            $("#informBox").show();
            $(".unPublish").hide();
            $("#inform-reason-page").show();
            $("#inform-desc-page").hide();
            $("#next-inform-btn").hide();
            $("#inform-reason-box .reasonItem").removeClass("checked");
            $("#inform-reason-box .reasonItem").on("touchend", function() {
                var s = $(this).attr("_index");
                a.logDog(1000068, s);
                $("#inform-reason-box .reasonItem").removeClass("checked");
                $(this).addClass("checked");
                $("#next-inform-btn").show()
            });
            $("#cancel-inform-btn").on("touchend", function() {
                var s = $("#poupInfoBox");
                s.removeClass("poupFadIn").addClass("poupFadOut");
                if (!_manage) {
                    $(".gameBox,.home,.body").removeClass("overflow-y-hidden");
                    g_config.showSkillSup && $(".bottomSkill").show()
                }
                s.hide();
                $(".unPublish").show();
                $("#informBox").hide();
                hg.fire("hidePoup", r)
            });
            $("#next-inform-btn").on("touchend", function() {
                $("#inform-reason-page").hide();
                $("#inform-desc-page").show();
//              $("#spxdPage").addClass("imp-hide")
            });
            $("#submit-inform-btn").on("touchend", function() {
                if (!q.hasReport) {
                    var t = $("#inform-desc-box #informDesc").val();
                    t = $.trim(t);
                    if (t == null || t == "") {
                        a.showMsgToast("描述不能为空", 2000);
                        return
                    } else {
                        if (t.length > 50) {
                            a.showMsgToast("填写超出限制", 2000);
                            return
                        } else {
                            $.ajax({
                                type: "post",
                                url: q.informUrl,
                                error: function(u) {
                                    a.tlog(u)
                                },
                                success: function(u) {
                                    a.tlog(u);
                                    q.hasReport = true;
                                    $("#informResultBox h3").text("投诉成功");
                                    $("#informResultBox").show()
                                }
                            })
                        }
                    }
                } else {
                    $("#informResultBox h3").text("你已经投诉过了！");
                    $("#informResultBox").show()
                }
                var s = $("#poupInfoBox");
                s.removeClass("poupFadIn").addClass("poupFadOut");
                setTimeout(function() {
//                  $("#spxdPage").removeClass("imp-hide")
                }, 400)
            });
            $("#informResultBox .confirm-btn").on("touchend", function() {
                if (!_manage) {
                    $(".gameBox,.home,.body").removeClass("overflow-y-hidden");
                    g_config.showSkillSup && $(".bottomSkill").show()
                }
                $("#informBox").hide();
                $("#informResultBox").hide();
                $(".unPublish").show();
                $("#inform-reason-box .reasonItem").removeClass("checked");
                $("#inform-reason-box .reasonItem em").hide();
                $("#poupInfoBox").hide();
                hg.fire("hidePoup", r)
            })
        }
    })();
    (function() {
        var c = {};
        c.show = function(d, e) {
            $("#awardUserInfoBg").data({
                _aUserInfoArg: d,
                _aUserInfoThis: e
            }).show();
//          $("#spxdPage").addClass("spxdPageHide")
        }
        ;
        c.hide = function() {
            $("#awardUserInfoBg").hide();
//          $("#spxdPage").removeClass("spxdPageHide");
            var e = $("#awardUserInfoBg").data("_aUserInfoArg");
            if (typeof gameOver != "undefined" && e.callee === gameOver) {
                var d = e[2];
                if (d && d.info) {
                    d.info = $.parseJSON(d.info);
                    d.info.ausername = g_config.awardUsername;
                    d.info.aphone = g_config.awardPhone;
                    d.info.aadress = g_config.awardAddress;
                    d.info = $.toJSON(d.info)
                }
            }
            e.callee.apply($("#awardUserInfoBg").data("_aUserInfoThis"), e)
        }
        ;
        a.aUserInfo = c
    })();
    a.showLotsWait = function(c, e) {
        var d = $("#lots-wait-Box #lots-wait-hint-num");
        d.text(c);
        $("#lots-wait-Box").show();
        var f = setInterval(function() {
            c--;
            d.text(c);
            if (c <= 0) {
                clearInterval(f);
                $("#lots-wait-Box").hide();
                e()
            }
        }, 1000)
    }
    ;
    (function() {
        var c = Math.max($(window).height() / $(window).width(), $(window).width() / $(window).height()) > 22 / 16;
        var g = {
            startStatus: false,
            exposeFlag: false,
            disable: false,
            result_disable: false,
            gift_disable: false,
        };
        var f = {
            drawType: false,
            home: function() {},
            again: function() {},
            giftInit: function(h) {
                h && h()
            }
        };
        var e = (function() {
            var m = 1.5;
            var j = 0;
            var i, o, n;
            var l, k, h;
            return function(q) {
                if (!g.startStatus) {
                    return
                }
                var s = new Date().getTime();
                if ((s - j) > 100) {
                    var p = q.accelerationIncludingGravity;
                    j = s;
                    i = p.x;
                    o = p.y;
                    n = p.z;
                    var r = Math.sqrt(i * i + o * o + n * n) / Math.sqrt(l * l + k * k + h * h);
                    if (r > m) {
                        g.startStatus = false;
                        f.giftInit(function(t) {
                            hg.sound.play("yiy");
                            setTimeout(function() {
                                g.showGift(t)
                            }, 1500)
                        })
                    }
                    l = i;
                    k = o;
                    h = n
                }
            }
        })();
        var d = {};
        g.initArg = function(h) {
            if (this.disable) {
                return
            }
            $.extend(d, h)
        }
        ;
        g.init = function(h) {
            if (this.disable) {
                return
            }
            $.extend(f, h);
            $.extend(f, d);
            this.giftBox = $("#resule-gift-box");
            this.resuleBox = $(".resuleBox");
            this.statusBox = $("#resule-status-box");
            var i = this;
            if (a.currentScore >= g_config.scoreSet && g_config.scoreSet != "") {
                a.isplaySucess = true
            } else {
                a.isplaySucess = false
            }
            $(".resule-status-home , .resule-gift-home, .resule-gift-home2").on("touchend", function() {
                event.preventDefault();
                event.stopPropagation();
                if (_manage) {
                    return
                }
                a.logDog(1000015);
                a.fadIn(i.resuleBox, function() {
                    i.giftBox.hide();
                    i.statusBox.hide();
                    $(".gameBox,.home,.body").removeClass("overflow-y-hidden");
                    if (g_config.showSkillSup) {
                        a.logDog(1000028, 0);
                        $(".bottomSkill").show();
                        if (g_config.aid == 7171826) {
                            a.logDog(1000062, 2)
                        } else {
                            if (g_config.aid == 8566249) {
                                a.logDog(1000067, 2)
                            }
                        }
                    }
                });
                f.home()
            });
            $(".resule-gift-draw").off("touchend").on("touchend", function() {
                if (_manage) {
                    return
                }
                window.addEventListener("devicemotion", e, false);
                g.exposeFlag && a.logDog(1000025, 29);
                g.exposeFlag && a.logDog(1000026, 29);
                if (!g_config.test && window.DeviceMotionEvent && !a.IsPC()) {
                    if (i.resuleArg.isLimitDrawTotal && i.resuleArg.totalCount === 0) {
                        a.statusMsg(6);
                        return
                    } else {
                        if (i.resuleArg.count === 1) {
                            a.statusMsg(4);
                            if (!g_config.showHelpGuide) {
                                f.home()
                            }
                            return
                        }
                    }
                    $("#resule-status-scrollWrap,#resule-gift-box").hide();
                    $("#resule-status-lotsBox,#resule-status-box").show();
                    setTimeout(function() {
                        g.startStatus = true;
                        i.resuleArg.count > 0 && i.resuleArg.count--
                    }, 1000)
                } else {
                    setTimeout(function() {
                        f.giftInit(function(j) {
                            i.showGift(j)
                        })
                    }, 1000)
                }
                g.exposeFlag = false
            });
            if (f.drawType === 0 || f.drawType === 2) {
                $(".resule-gift-home").css({
                    width: "10rem",
                    height: "2rem",
                    "line-height": "2rem"
                });
                $(".resule-gift-home2").css({
                    width: "4.75rem",
                    height: "2rem",
                    "line-height": "2rem"
                });
                this.giftBox.find(".resule-gift-seeRank").remove();
                this.show = this.showGift
            } else {
                if (f.drawType === 1) {
                    $(".resule-status-seeRank,.resule-gift-seeRank").on("touchstart", function() {
                        event.preventDefault();
                        event.stopPropagation();
                        if (_manage) {
                            return
                        }
                        window.showRank()
                    });
                    $(".resule-status-again").on("touchstart", function() {
                        event.preventDefault();
                        event.stopPropagation();
                        if (_manage) {
                            return
                        }
                        a.logDog(1000016);
                        $(".gameBox,.home,.body").removeClass("overflow-y-hidden");
                        if (!g_config.isDoubleGame) {
                            a.fadIn(i.resuleBox, function() {
                                i.giftBox.hide();
                                i.statusBox.hide()
                            })
                        }
                        f.again()
                    });
                    hg.sound.load(_resRoot + "/image/yaoyiyao.wav", "yiy");
//                  window.addEventListener("devicemotion", e, false);
                    if (m_debug) {
                        $("#resule-status-lotsHand").on("touchstart", function() {
                            g.startStatus = false;
                            f.giftInit(function(j) {
                                i.showGift(j)
                            })
                        })
                    }
                    $(".resule-status-gift").on("touchstart", function() {
                        if (_manage) {
                            return
                        }
                        g.exposeFlag && a.logDog(1000014);
                        if (!g_config.test && window.DeviceMotionEvent && !a.IsPC()) {
                            if (i.resuleArg.isLimitDrawTotal && i.resuleArg.totalCount === 0) {
                                a.statusMsg(6);
                                return
                            } else {
                                if (i.resuleArg.count === 0) {
                                    a.statusMsg(4);
                                    return
                                }
                            }
                            $("#resule-status-scrollWrap").hide();
                            $("#resule-status-lotsBox").show();
                            g.startStatus = true
                        } else {
                            f.giftInit(function(j) {
                                i.showGift(j)
                            })
                        }
                        g.exposeFlag = false
                    });
                    $(".resule-status-reg").on("touchstart", function() {
                        if (_manage) {
                            return
                        }
                        if (g_config.openAwardLinkNoDraw && !g_config.isRegUserName && !g_config.isRegPhone && !g_config.isRegAddress) {
                            a.aUserInfo.show(arguments, this);
                            if (g_config.contactNoDraw) {
                                $("#awardUserInfoBox .contactInput").hide();
                                $.each(g_config.contactNoDraw, function(k, l) {
                                    $("#awardUserInfoBox .contactInput").eq(l).show()
                                })
                            }
                            return
                        }
                        a.logDog(1000032);
                        $(".ajaxLoadBg").show();
                        $(".ajaxLoadBar").addClass("ajaxLoad");
                        var j = f.regUrl;
                        if (g_config.isDoubleGame) {
                            j += "&openIdB=" + a.otherOpenId
                        }
                        $.ajax({
                            type: "post",
                            url: j,
                            error: function() {
                                a.otherAjaxComplete()
                            },
                            success: function(l) {
                                var k = $.parseJSON(l);
                                a.otherAjaxComplete();
                                if (k.isOutofTestNum) {
                                    a.statusMsg("活动尚未发布", "最多测试人数为100人！");
                                    return
                                }
                                if (!k.isOutofRegNum) {
                                    a.isReg = true;
                                    var k = $.parseJSON(l);
                                    if (k.success) {
                                        $(".resule-foot-one .resule-status-again").html("继续刷记录");
                                        $(".resule-foot-one .resule-status-reg").hide();
                                        $(".resule-foot-one .resule-status-again").show();
                                        $("#resule-status-count").hide();
                                        $("#resule-sucReg").show()
                                    }
                                } else {
                                    a.statusMsg("报名人数已经满了")
                                }
                            }
                        })
                    });
                    this.show = this.showResult
                }
            }
        }
        ;
        g.showResult = function(k) {
            if (this.disable || this.result_disable) {
                return
            }
            var j = {
                isSuc: false,
                gameScore: 0,
                minScore: 0,
                bestScore: 10,
                rank: 10,
                count: 3,
                beat: 99,
                notreal: false,
                gameType: 0
            };
            var i = $.extend(j, k);
            this.resuleArg = i;
            !i.notreal && (a.currentRank = i.rank);
            !i.notreal && (a.currentScore = i.bestScore);
            setWxShareByStatus();
            $("#resule-status-scrollWrap").show();
            $("#resule-status-lotsBox,#resule-gift-box").hide();
            $(".resule-one-button").hide();
            this.statusBox.show();
            a.fadOut(this.resuleBox);
            var l = $(".resuleArg");
            var h = i.isReg;
            if (!i.notreal && g_config.sortType == (i.gameScore >= g_config.drawLimitDef)) {
                if (typeof a.oss_aof === "undefined") {
                    a.oss_aof = 0
                }
                a.oss_aof++;
                if (a.oss_aof >= 2) {
                    a.logDog(1000033, g_config.failSrcId);
                    a.oss_aof = 0
                }
            }
            $("#resule-status-scrollWrap").css("height", $(window).height() - $("#resule-status-box .attentionBox").height() - 1.5 * g_rem);
            if (!_manage && g_config.showSkillSup) {
                if (g_config.authVer == HdVerDef.FREE) {
                    a.logDog(1000069, 0)
                } else {
                    if (g_config.authVer == HdVerDef.BJ) {
                        a.logDog(1000069, 2)
                    } else {
                        if (g_config.authVer == HdVerDef.BY) {
                            a.logDog(1000069, 4)
                        }
                    }
                }
                a.logDog(1000028, 1)
            }
            if (g_config.aid == 7171826 && g_config.showSkillSup) {
                a.logDog(1000062, 0)
            } else {
                if (g_config.aid == 8566249 && g_config.showSkillSup) {
                    a.logDog(1000067, 0)
                }
            }
            if (i.gameType == 1 || i.gameType == 3) {
                g_config.showMenu && a.logDog(1000036)
            }
            if (!_manage) {
                $(".gameBox,.home,.body").addClass("overflow-y-hidden");
                $(".bottomSkill").is(":visible") && $(".bottomSkill").hide()
            }
            if (i.gameType == 3) {
                $("#resule-foot-box").css("padding-bottom", "1rem");
                if (i.gameScore == "fail") {
                    $("#resule-status-bird").show();
                    $("#resule-status-ribbon").removeClass("resule-status-ribbon").addClass("resule-status-faiRibbon");
                    $("#resule-status-bird").removeClass("resule-status-birdfly").addClass("resule-status-birdfly");
                    $("#resule-status-box .resule-bgLight").hide();
                    $(".resule-status-userImg").css("border-color", "#B5B5B5");
                    $("#resule-status-body .beat-Percent").hide();
                    if (i.rank == 0) {} else {
                        $("#resule-status-body .result-scoreUnit").show()
                    }
                    l.eq(0).text("无");
                    if (l.eq(2).text().length == 0) {
                        l.eq(2).text(i.bestScore);
                        l.eq(3).text(i.rank > 0 ? i.rank : "无")
                    } else {
                        $("#resule-status-body .result-scoreUnit").show()
                    }
                    a.isplaySucess = false
                } else {
                    $("#resule-status-bird").hide();
                    $(".resule-status-userImg").css("border-color", "#70D572");
                    $("#resule-status-ribbon").removeClass("resule-status-faiRibbon").addClass("resule-status-ribbon");
                    $("#resule-status-box .resule-bgLight").show();
                    $("#resule-status-body .beat-Percent span").text(i.beat);
                    $("#resule-status-body .beat-Percent").show();
                    l.eq(0).text(i.gameScore);
                    l.eq(2).text(i.bestScore);
                    l.eq(3).text(i.rank);
                    $("#resule-status-body .result-scoreUnit").show();
                    a.isplaySucess = true
                }
                $(".resule-status-minscore").hide();
                $("#resule-status-count").hide();
                $(".resule-foot-one .resule-status-gift").hide();
                $(".resule-foot-one .resule-status-reg").hide();
                $(".resule-foot-one .resule-status-again").show();
                $(".resule-foot-two .resule-status-again").hide();
                $(".resule-foot-two .resule-status-home").show()
            } else {
                if (i.gameScore === "fail") {
                    $(".resuleArg-fail").text(i.minScore);
                    $("#resule-status-body").hide();
                    $("#resule-status-other").show()
                } else {
                    $("#resule-status-body").show();
                    $("#resule-status-other").hide()
                }
                if (i.isSuc) {
                    a.isplaySucess = true;
                    $("#resule-status-bird").hide();
                    $("#resule-status-ribbon").removeClass("resule-status-faiRibbon").addClass("resule-status-ribbon");
                    $(".resule-status-userImg").css("border-color", "#70D572");
                    $(".resule-status-minscore").hide();
                    $("#resule-status-count").show();
                    if (i.gameType == 0) {
                        $(".resule-foot-one .resule-status-gift").show();
                        $(".resule-foot-one .resule-status-again").hide();
                        $(".resule-foot-two .resule-status-again").show();
                        $(".resule-foot-two .resule-status-home").hide();
                        a.logDog(1000027)
                    } else {
                        if (i.gameType == 4) {
                            $(".resule-foot-one .resule-status-send").show();
                            $(".resule-foot-two .resule-status-again").hide();
                            $(".resule-foot-two .resule-status-home").show();
                            $("#resule-status-count").hide()
                        } else {
                            if (i.gameType == 1) {
                                $("#resule-status-count").hide();
                                $("#resule-foot-box").css("margin-top", "0.6rem");
                                $(".resule-foot-two .resule-status-again").hide();
                                $(".resule-foot-two .resule-status-home").show();
                                a.logDog(1000035);
                                if (!h) {
                                    $(".resule-foot-one .resule-status-reg").show()
                                } else {
                                    $(".resule-foot-one .resule-status-again").html("继续刷记录");
                                    $(".resule-foot-one .resule-status-reg").hide();
                                    $(".resule-foot-one .resule-status-again").show();
                                    $("#resule-sucReg").show()
                                }
                            }
                        }
                    }
                    g.exposeFlag = true;
                    $("#resule-status-box .resule-bgLight").show();
                    l.eq(0).text(i.gameScore);
                    l.eq(1).text(i.minScore);
                    l.eq(2).text(i.bestScore);
                    l.eq(3).text(i.rank);
                    l.eq(4).text(i.totalCount);
                    l.eq(5).text(i.count);
                    l.eq(6).text(i.count);
                    $("#resule-status-body .dayDrawCount").text(i.count);
                    $("#resule-status-body #totalDrawCount").text(i.totalCount);
                    $("#msxbSucTip").text("恭喜你获得密室小能手称号！");
                    $("#resule-status-body .beat-Percent span").text(i.beat);
                    $("#resule-status-body .beat-Percent").show()
                } else {
                    $("#resule-status-bird").show();
                    $("#resule-status-ribbon").removeClass("resule-status-ribbon").addClass("resule-status-faiRibbon");
                    $(".resule-status-userImg").css("border-color", "#B5B5B5");
                    $(".resule-status-minscore").show();
                    $("#resule-status-count").hide();
                    $("#resule-status-box .resule-bgLight").hide();
                    $(".resule-foot-one .resule-status-gift").hide();
                    $(".resule-foot-one .resule-status-reg").hide();
                    $(".resule-foot-one .resule-status-again").show();
                    $(".resule-foot-two .resule-status-again").hide();
                    $(".resule-foot-two .resule-status-home").show();
                    $("#resule-status-bird").removeClass("resule-status-birdfly").addClass("resule-status-birdfly");
                    l.eq(0).text(i.gameScore);
                    l.eq(1).text(i.minScore);
                    l.eq(2).text(i.bestScore);
                    l.eq(3).text(i.rank);
                    l.eq(4).text(i.count);
                    $("#resule-status-body .beat-Percent").hide();
                    a.isplaySucess = false
                }
            }
            hg.fire("showResult", i, l)
        }
        ;
        g.showGift = function(j) {
            if (this.disable || this.gift_disable) {
                return
            }
            var k = {
                isSuc: false,
                giftName: "",
                giftStyle: "",
                giftCode: 0,
                giftImage: "",
                awardImageW: "6rem",
                awardImageH: "6rem",
                awardTypeNum: 0,
                awardIndex: 1,
                genewxcard: false
            };
            var h = $.extend({}, k, j);
            if (this.statusBox) {
                a.fadIn(this.statusBox)
            }
            $("#resulte-gift-showMyAward").data("openCode", h.giftCode);
            a.fadOut(this.resuleBox);
            a.fadOut(this.giftBox);
            $(".menuAgain,.menuBack,.backListen,.repeatDraw").css({
                bottom: $("#resule-gift-box").find(".attentionBox").height(),
                "line-height": "1.9rem"
            });
            $("#resule-gift-scrollWrap").css("height", $(window).height() - $("#resule-gift-box .attentionBox").height() - $(".menuAgain").outerHeight(true) - 1.6 * g_rem);
            var n = $(".gifArg");
            if (!_manage && g_config.showSkillSup) {
                if (g_config.authVer == HdVerDef.FREE) {
                    a.logDog(1000069, 0)
                } else {
                    if (g_config.authVer == HdVerDef.BJ) {
                        a.logDog(1000069, 2)
                    } else {
                        if (g_config.authVer == HdVerDef.BY) {
                            a.logDog(1000069, 4)
                        }
                    }
                }
                a.logDog(1000028, 1)
            }
            if (g_config.aid == 7171826 && g_config.showSkillSup) {
                a.logDog(1000062, 0)
            } else {
                if (g_config.aid == 8566249 && g_config.showSkillSup) {
                    a.logDog(1000067, 0)
                }
            }
            g_config.showMenu && a.logDog(1000036);
            if (h.isSuc) {
                $("#resule-gift-box").css("height", "auto");
                $("#resule-gift-scrollWrap").show();
                $("#faiImgBox").hide();
                $("#Award_Round_Dot").css("display", "inline-block");
                a.currentAward = h.giftName;
                a.currentAwardStyle = h.giftStyle;
                setWxShareByStatus();
                this.hasGift = true;
                n.eq(0).text(h.giftStyle);
                n.eq(1).text(h.giftName);
                $("#resule-gift-sucImg").attr("src", h.giftImage);
                $("#resule-gift-sucImg").css({
                    width: h.awardImageW,
                    height: h.awardImageH,
                    margin: "1.6rem auto"
                });
                if (h.awardIndex == 900) {
                    if (g_config.comfort.comAwardtype == 0 || g_config.comfort.comAwardtype == 1) {
                        $(".awardCodeTime em").text("使用期限");
                        $("#codeName").text("优惠码");
                        if (g_config.afterWxCard) {
                            $(".awardCusText .text").text("优惠券详情")
                        }
                    } else {
                        $(".awardCodeTime em").text("兑奖期限");
                        $("#codeName").text("兑奖码");
                        $("#awardCollectionBtn").text("收藏兑奖券");
                        if (g_config.afterWxCard) {
                            $(".awardCusText .text").text("兑奖券详情")
                        }
                    }
                } else {
                    if (!g_config.award) {
                        g_config.award = g_config.awardList[h.awardIndex - 1];
                        g_config.wxAward = g_config.awardList[h.awardIndex - 1]
                    }
                    if (h.awardTypeNum == 0 || h.awardTypeNum == 1) {
                        $(".awardCodeTime em").text("使用期限");
                        $("#codeName").text("优惠码");
                        if (g_config.afterWxCard) {
                            $(".awardCusText .text").text("优惠券详情")
                        }
                    } else {
                        $(".awardCodeTime em").text("兑奖期限");
                        $("#codeName").text("兑奖码");
                        $("#awardCollectionBtn").text("收藏兑奖券");
                        if (g_config.afterWxCard) {
                            $(".awardCusText .text").text("兑奖券详情")
                        }
                    }
                    if (g_config.award.genewxcard) {
                        $(".awardCodeTime em").text("兑奖期限");
                        $("#codeName").text("兑奖码");
                        var m = true;
                        var l = awardInfo.depositTime;
                        if (l && l < Date.parse(new Date())) {
                            m = false
                        }
                        var i = (m ? "放入" : "打开") + "微信卡券";
                        $("#awardCollectionBtn").text(i).attr("isWxCard", true)
                    }
                }
                a.logDog(1000003, 0);
                a.logObjDog(1000092, 3, g_config.gameId);
                if (!_manage) {
                    $(".gameBox,.home,.body").addClass("overflow-y-hidden");
                    $(".bottomSkill").is(":visible") && $(".bottomSkill").hide()
                }
            } else {
                $("#resule-gift-box").css("height", $(window).height() - $("#resule-gift-box .attentionBox").height());
                $("#resule-gift-scrollWrap").hide();
                $("#faiImgBox").show()
            }
            if (g_config.haveAward) {
                $("#myAwardBtn").show()
            }
        }
        ;
        a.resulePoup = g
    })();
    a.otherAjaxComplete = function() {
        var c = $(".ajaxLoadBar");
        c.addClass("ajaxComplete");
        setTimeout(function() {
            c.removeClass("ajaxLoad");
            c.removeClass("ajaxComplete");
            $(".ajaxLoadBg").hide()
        }, 500)
    }
    ;
    (function() {
        var h = (function() {
            var i = 1;
            return function(j) {
                var k = j.data("layerId");
                if (!k) {
                    k = "layerId-" + i;
                    j.addClass(k);
                    j.data("layerId", k);
                    i++
                }
            }
        })();
        function d(j) {
            var k = $("." + j);
            var l = ["Left", "Right", "Top", "Bottom"];
            var i = "";
            $.each(l, function(m, n) {
                if ($("#" + j + "moveFrame" + n).length == 0) {
                    i += '<div id="' + j + "moveFrame" + n + '" class="moveFrame" style="border-' + n.toLowerCase() + '-width:1px"></div>'
                }
            });
            if (i) {
                $("body").append(i);
                e(k)
            }
        }
        function e(i, o) {
            var j = i.data("layerId");
            var k = i.offset().left;
            var r = i.offset().top;
            var p = i.outerWidth();
            var m = i.outerHeight();
            $("#" + j + "moveFrameLeft").css({
                left: k,
                top: r,
                width: 0,
                height: m,
                borderLeftWidth: 1
            });
            $("#" + j + "moveFrameRight").css({
                left: k + p - 1,
                top: r,
                width: 0,
                height: m,
                borderRightWidth: 1
            });
            $("#" + j + "moveFrameTop").css({
                left: k,
                top: r,
                width: p,
                height: 0,
                borderTopWidth: 1
            });
            $("#" + j + "moveFrameBottom").css({
                left: k,
                top: r + m - 1,
                width: p,
                height: 0,
                borderBottomWidth: 1
            });
            if (o) {
                var s = i.closest(".ui-wrapper");
                if (s.length == 0) {
                    s = i
                }
                var q = s.find(".recoverBtn");
                var n = false;
                if (p < 2 * q.width()) {
                    n = true
                }
                if (m < 2 * q.height()) {
                    n = true
                }
                if (n && !i.data("_minRecoverBtn")) {
                    i.data("_minRecoverBtn", true);
                    s.find(".ui-resizable-imgTopRightTip").css({
                        backgroundPositionX: 0,
                        backgroundPositionY: 11,
                        right: -11,
                        top: -11
                    });
                    s.find(".ui-resizable-imgTopLeftTip").css({
                        backgroundPositionX: 11,
                        backgroundPositionY: 11,
                        left: -11,
                        top: -11
                    });
                    s.find(".ui-resizable-imgBottomLeftTip").css({
                        backgroundPositionX: 11,
                        backgroundPositionY: 0,
                        left: -11,
                        bottom: -11
                    });
                    s.find(".ui-resizable-imgBottomRightTip").css({
                        backgroundPositionX: 0,
                        backgroundPositionY: 0,
                        right: -11,
                        bottom: -11
                    });
                    q.css("right", -24)
                } else {
                    if (i.data("_minRecoverBtn")) {
                        i.data("_minRecoverBtn", false);
                        s.find(".ui-resizable-imgTopRightTip").css({
                            backgroundPositionX: 11,
                            backgroundPositionY: 0,
                            right: 0,
                            top: 0
                        });
                        s.find(".ui-resizable-imgTopLeftTip").css({
                            backgroundPositionX: 0,
                            backgroundPositionY: 0,
                            left: 0,
                            top: 0
                        });
                        s.find(".ui-resizable-imgBottomLeftTip").css({
                            backgroundPositionX: 0,
                            backgroundPositionY: 11,
                            left: 0,
                            bottom: 0
                        });
                        s.find(".ui-resizable-imgBottomRightTip").css({
                            backgroundPositionX: 11,
                            backgroundPositionY: 11,
                            right: 0,
                            bottom: 0
                        });
                        q.css("right", 3)
                    }
                }
            }
        }
        a.removeMoveFrame = function(i) {
            $("#" + i + "moveFrameLeft,#" + i + "moveFrameRight,#" + i + "moveFrameTop,#" + i + "moveFrameBottom").remove();
            $$("#imgSizeShow").hide()
        }
        ;
        a.removeAllEditLayer = function() {
            $(".moveFrame").remove();
            $(".moduleLayer").remove()
        }
        ;
        a.initModuleLayer = function(k, m, o, j, n, p, i) {
            var l = k;
            (typeof k === "string") && (l = $(k));
            if (!(l instanceof jQuery) || l.length <= 0) {
                return
            }
            if (l.length > 1) {
                l.each(function() {
                    a.initModuleLayer($(this), m, o, j, n, p, i)
                });
                return
            }
            h(l);
            l.addClass("defBgColor");
            l.data("mouseover", function(r) {
                var q = $(this).data("layerId");
                clearTimeout($(this).data("initModuleTimer"));
                if (a.ResizeDoc || $("#" + q + "moduleLayer").length > 0) {
                    return
                }
                a.removeAllEditLayer();
                d(q);
                g(q, m, o, j, n, p, i)
            });
            l.off("mouseover").off("mouseleave").on("mouseover", l.data("mouseover")).on("mouseleave", function(r) {
                var q = $(this).data("layerId");
                $(this).data("initModuleTimer", setTimeout(function() {
                    if (!a.ResizeDoc) {
                        a.removeMoveFrame(q);
                        $("#" + q + "moduleLayer").remove()
                    }
                }, 100))
            });
            l = null
        }
        ;
        function g(j, l, p, m, r, u, s) {
            var q = [];
            var n = j + "moduleLayer";
            var o = $("." + j);
            var k = typeof r === "string" ? r : "样式";
            var t = typeof s === "string" ? s : "编辑";
            q.push("<div id='" + n + "' class='moduleLayer' _mouseIn='0'>");
            q.push("<div class='item'>");
            if (r) {
                q.push("<a class='item tool css' hidefocus='true' href='javascript:;'>" + k + "</a>")
            }
            if (s || l != -2) {
                q.push("<a class='item tool edit' hidefocus='true' href='javascript:;' >" + t + "</a>")
            }
            q.push("</div>");
            q.push("</div>");
            var i = $(q.join(""));
            q = null ;
            $("#" + n).remove();
            i.appendTo("body");
            i.css("margin", 0);
            $("#" + n + " .item .css").click(function() {
                parent.showCssByGame.call(o, p, u);
                parent.operateFlagList[21] = true;
                a.logDog(1000078, 5);
                return false
            });
            $("#" + n + " .item .edit").click(function() {
                parent.showEditByGame.call(o, l, p, m);
                parent.operateFlagList[17] = true;
                a.logDog(1000078, 3);
                if (p == "awardSetting") {
                    a.removeMoveFrame(j);
                    $("#" + n).remove()
                }
                return false
            });
            f(o, i);
            i.mouseover(function() {
                clearTimeout(o.data("initModuleTimer"))
            }).mouseleave(function(v) {
                o.data("initModuleTimer", setTimeout(function() {
                    a.removeMoveFrame(j);
                    $("#" + n).remove();
                    o.siblings(".ui-resizable-handle,.recoverBtn").hide()
                }, 100))
            });
            return i
        }
        function f(l, m) {
            if (!m) {
                m = $(".moduleLayer")
            }
            if (m.length < 1) {
                return
            }
            var i = l.outerWidth();
            var j = l.offset().left + i - m.outerWidth() - 1;
            if (j < 0) {
                j = 0
            }
            if (l.offset().left < $(window).width() && l.offset().left + i > $(window).width()) {
                j = $(window).width() - m.outerWidth() - 1
            }
            m.css("left", j);
            var k = (l.offset().top - m.height() - 1);
            m.css("top", k > 0 ? k : 0 + "px")
        }
        a.moduleSlaveImgResize = function(k, j, l) {
            if (k.length <= 0) {
                return
            }
            var i = l || "body";
            if (k.parents(".home").length > 0) {
                i = "#limitRange"
            }
            $.each(k, function(o, p) {
                $(p).parent("div.ui-wrapper").css({
                    padding: "0"
                });
                $(p).resizable("destroy");
                var m = $(p).parents("div.imgContainer");
                var n = m.find(".slaveImg");
                if (m.length == 0) {
                    m = $(p)
                }
                if (n.length == 0) {
                    n = $(p)
                }
                h(n);
                n.data("defData", j);
                $(p).resizable($.extend({
                    handles: "n,e,s,w,ne,nw,sw,se",
                    autoHide: true,
                    maxWidth: 318,
                    maxHeight: 504,
                    minWidth: 20,
                    minHeight: 20,
                    aspectRatio: true,
                    containment: i,
                    alsoResize: $(p),
                    create: function(q, s) {
                        var u = $(this);
                        var r = 0;
                        if (Math.abs(u.width() - parseRemToPx(j.width)) > 1 || Math.abs(u.height() - parseRemToPx(j.height)) > 1) {
                            n.attr("resize", 1)
                        }
                        u.css({
                            position: "relative",
                            "float": "none",
                            "z-index": "100"
                        });
                        if (u.width() < 40 || u.height() < 40) {
                            u.css("padding", "2px")
                        } else {
                            u.css("padding", "0")
                        }
                        u.append("<a class='recoverBtn' href='javascript:;'></a>");
                        u.find(".recoverBtn").on("click", function(v) {
                            $(this).hide();
                            n.attr("resize", 0);
                            u.add(n).css(j);
                            a.logDog(1000078, 4);
                            n.data("hd-resizable-recover") && n.data("hd-resizable-recover").fireWith(n[0], [v, j]);
                            setTimeout(function() {
                                f(n);
                                e(n, true)
                            }, 10)
                        });
                        u.attr("_from", n.attr("id"));
                        (function() {
                            var x = [["s", "Bottom"], ["n", "Top"], ["w", "Left"], ["e", "Right"]];
                            for (var w = 0; w < 4; w++) {
                                u.children(".ui-resizable-" + x[w][0]).addClass("ui-resizable-img" + x[w][1] + "Tip").css({
                                    "z-index": "9030"
                                });
                                if (w < 2) {
                                    for (var v = 2; v < 4; v++) {
                                        u.children(".ui-resizable-" + x[w][0] + x[v][0]).addClass("ui-resizable-img" + x[w][1] + x[v][1] + "Tip").css({
                                            "z-index": "9030"
                                        })
                                    }
                                }
                            }
                        })();
                        var t = u.parent();
                        u.children(".ui-resizable-handle").mousedown(function(w) {
                            var v = t.attr("href");
                            if (typeof v != "undefined" && v.length > 0) {
                                t.removeAttr("href");
                                t.attr("onclick", "return false;")
                            }
                        });
                        if (n.data("layerId")) {
                            n.off("mouseover").off("mouseleave")
                        }
                        u.mouseover(function() {
                            clearTimeout(n.data("initModuleTimer"));
                            if (a.ResizeDoc) {
                                return
                            }
                            u.children(".ui-resizable-handle").show();
                            if (n.attr("resize") == 1) {
                                m.find(".recoverBtn").show()
                            }
                            if (n.data("layerId")) {
                                n.data("mouseover").call(n)
                            }
                            n.removeData("resizable-isLeave")
                        }).mouseleave(function() {
                            n.data("initModuleTimer", setTimeout(function() {
                                if (!a.ResizeDoc) {
                                    var v = n.data("layerId");
                                    a.removeMoveFrame(v);
                                    $("#" + v + "moduleLayer").remove();
                                    u.children(".ui-resizable-handle").hide();
                                    m.find(".recoverBtn").hide()
                                } else {
                                    n.data("resizable-isLeave", true)
                                }
                            }, 100))
                        });
                        n.data("hd-resizable-create") && n.data("hd-resizable-create").fireWith(n[0], [q, s])
                    },
                    start: function(q, r) {
                        if (r.axis.length === 2) {
                            $(this).resizable("option", "aspectRatio", true)
                        } else {
                            $(this).resizable("option", "aspectRatio", false)
                        }
                        d(n.data("layerId"));
                        a.ResizeDoc = m;
                        $$("#imgSizeShow").show();
                        $("#" + n.data("layerId") + "moduleLayer").remove();
                        r.originalElement.parent().find(".recoverBtn").hide();
                        $(this).css("position", "relative");
                        $(".ui-resizable-bottomTip,.ui-resizable-cancelTip,.draggableBtn").css({
                            opacity: "0"
                        });
                        n.data("hd-resizable-start") && n.data("hd-resizable-start").fireWith(n[0], [q, r])
                    },
                    resize: function(r, s) {
                        n.data("hd-resizable-resize") && n.data("hd-resizable-resize").fireWith(n[0], [r, s]);
                        e(n, true);
                        var q = $$("#imgSizeShow");
                        q.css({
                            top: r.pageY + 15,
                            left: r.pageX - 30
                        });
                        q.find("span").eq(0).text(Math.round(n.width()) * 2);
                        q.find("span").eq(1).text(Math.round(n.height()) * 2)
                    },
                    stop: function(r, t) {
                        var s = 0;
                        delete a.ResizeDoc;
                        if (n.data("resizable-isLeave")) {
                            $(this).mouseleave();
                            n.removeData("resizable-isLeave")
                        } else {
                            n.mouseover()
                        }
                        $$("#imgSizeShow").hide();
                        $(".ui-resizable-bottomTip,.ui-resizable-cancelTip,.draggableBtn").css({
                            opacity: "1"
                        });
                        m.find(".slaveImg").attr("resize", "1");
                        m.find(".recoverBtn").show();
                        if ($(this).width() < 40 || $(this).height() < 40) {
                            $(this).css("padding", "2px")
                        } else {
                            $(this).css("padding", "0")
                        }
                        var u = $(this).parent();
                        var q = u.attr("link");
                        if (typeof q != "undefined" && q.length > 0) {
                            setTimeout(function() {
                                u.attr("href", q);
                                u.removeAttr("onclick")
                            }, 100)
                        }
                        parent.operateFlagList[17] = true;
                        a.logDog(1000078, 0);
                        n.data("hd-resizable-stop") && n.data("hd-resizable-stop").fireWith(n[0], [r, t])
                    }
                }, n.data("hd-resizable-option")));
                $(p).off(".slaveImg")
            })
        }
        ;
        a.moduleDraggale = function(m, n, p) {
            var o = m;
            (typeof m === "string") && (o = $(m));
            if (!(o instanceof jQuery) || o.length <= 0) {
                return
            }
            if (o.length > 1) {
                o.each(function() {
                    a.moduleDraggale($(this), n, p)
                });
                return
            }
            var l = o.parent();
            var k = o;
            var j = p || "body";
            if (n) {
                k = l
            }
            k.css("cursor", "move");
            k.css("position", "absolute");
            if (k.parents(".home").length > 0) {
                j = "#limitRange"
            }
            var i = l.css("z-index");
            k.draggable($.extend({
                start: function(q, r) {
                    o.mouseover();
                    l.children(".ui-resizable-handle").hide();
                    i = l.css("z-index");
                    l.css("z-index", "9999");
                    o.data("hd-draggable-start") && o.data("hd-draggable-start").fireWith(o[0], [q, r])
                },
                drag: function(q, r) {
                    e(o);
                    $("#" + o.data("layerId") + "moduleLayer").remove();
                    o.parent().find(".recoverBtn").hide();
                    o.data("hd-draggable-drag") && o.data("hd-draggable-drag").fireWith(o[0], [q, r])
                },
                stop: function(q, r) {
                    o.mouseover();
                    l.css("z-index", i);
                    parent.operateFlagList[17] = true;
                    a.logDog(1000078, 1);
                    o.data("hd-draggable-stop") && o.data("hd-draggable-stop").fireWith(o[0], [q, r])
                },
                opacity: 0.5,
                scroll: false,
                distance: 1,
                containment: j,
                addClasses: false
            }, o.data("hd-draggable-option")))
        }
        ;
        function c(m, i, l, j) {
            var k = "hd-" + l + "-" + j;
            m.each(function() {
                var n = $(this).data(k);
                if (j === "option") {
                    if (n) {
                        $.extend(n, i)
                    } else {
                        $(this).data(k, i)
                    }
                } else {
                    if (!n) {
                        n = $.Callbacks("unique memory");
                        $(this).data(k, n)
                    }
                    n.add(i)
                }
            })
        }
        $.fn.extend({
            setResizableOption: function(i) {
                c($(this), i, "resizable", "option");
                return $(this)
            },
            setDraggableOption: function(i) {
                c($(this), i, "draggable", "option");
                return $(this)
            },
            addResizableFn: function(j, i) {
                c($(this), i, "resizable", j);
                return $(this)
            },
            addDraggableFn: function(j, i) {
                c($(this), i, "draggable", j);
                return $(this)
            },
            addEditUploadFn: function(j, i) {
                c($(this), i, "editUpload", j);
                return $(this)
            },
            awardSlide: function(i) {
                if (typeof i === "object") {
                    var j = {
                        margin_bottom: "0",
                        margin_left: "0",
                        margin_right: "0",
                        speed: "10"
                    };
                    var i = $.extend(j, i);
                    this.each(function() {
                        $(this).show();
                        var k = $(this)
                          , l = k.children("ul");
                        var m = l.find("li");
                        l.append("<li class='clone'></li>");
                        l.find("li").eq(0).children().clone().appendTo(".clone");
                        l.find("li").eq(0).css("margin-left", "320px");
                        var n = 0;
                        l.css("width", "10000%");
                        m.find("div").css({
                            "margin-left": i.margin_left,
                            "margin-right": i.margin_right
                        });
                        $(this).data("awardSlide-marquee", setInterval(o, i.speed));
                        function o() {
                            k.scrollLeft(++n);
                            if (n == m.outerWidth(true)) {
                                n = 320
                            }
                        }
                    })
                } else {
                    if (i === "stop") {
                        this.each(function() {
                            $(this).hide();
                            $(this).children("ul").find(".clone").remove();
                            clearInterval($(this).data("awardSlide-marquee"))
                        })
                    }
                }
                return $(this)
            },
        });
        a.Img = {
            MODE_SCALE_FILL: 1,
            MODE_SCALE_WIDTH: 2,
            MODE_SCALE_HEIGHT: 3,
            MODE_SCALE_DEFLATE_WIDTH: 4,
            MODE_SCALE_DEFLATE_HEIGHT: 5,
            MODE_SCALE_DEFLATE_FILL: 6,
            MODE_SCALE_DEFLATE_MAX: 7
        };
        a.Img.optimize = function(l, n) {
            var j = new Image();
            j.src = l.src;
            var k = j.width;
            var i = j.height;
            if (a.isNull(k) || k == 0 || a.isNull(i) || i == 0) {
                k = l.width;
                i = l.height
            }
            var m = a.Img.calcSize(k, i, n.width, n.height, n.mode);
            l.width = m.width;
            l.height = m.height;
            if (n.display == 1) {
                l.style.display = "inline"
            } else {
                if (n.display == 2) {
                    l.style.display = "none"
                } else {
                    l.style.display = "block"
                }
            }
            return {
                width: l.width,
                height: l.height
            }
        }
        ;
        a.Img.calcSize = function(m, i, o, n, p) {
            var k = {
                width: m,
                height: i
            };
            if (p == a.Img.MODE_SCALE_FILL) {
                var l = m / o;
                var j = i / n;
                if (l > j) {
                    k.width = o;
                    k.height = i / l
                } else {
                    k.width = m / j;
                    k.height = n
                }
            } else {
                if (p == a.Img.MODE_SCALE_WIDTH) {
                    var l = m / o;
                    k.width = o;
                    k.height = i / l
                } else {
                    if (p == a.Img.MODE_SCALE_HEIGHT) {
                        var j = i / n;
                        k.width = m / j;
                        k.height = n
                    } else {
                        if (p == a.Img.MODE_SCALE_DEFLATE_WIDTH) {
                            var l = m / o;
                            if (l > 1) {
                                k.width = o;
                                k.height = i / l
                            }
                        } else {
                            if (p == a.Img.MODE_SCALE_DEFLATE_HEIGHT) {
                                var j = i / n;
                                if (j > 1) {
                                    k.width = m / j;
                                    k.height = n
                                }
                            } else {
                                if (p == a.Img.MODE_SCALE_DEFLATE_FILL) {
                                    var l = m / o;
                                    var j = i / n;
                                    if (l > j) {
                                        if (l > 1) {
                                            k.width = o;
                                            k.height = i / l
                                        }
                                    } else {
                                        if (j > 1) {
                                            k.width = m / j;
                                            k.height = n
                                        }
                                    }
                                } else {
                                    if (p == a.Img.MODE_SCALE_DEFLATE_MAX) {
                                        if (m > o && i > n) {
                                            var l = m / o;
                                            var j = i / n;
                                            if (l < j) {
                                                k.width = o;
                                                k.height = i / l
                                            } else {
                                                k.width = m / j;
                                                k.height = n
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
            k.width = Math.floor(k.width);
            k.height = Math.floor(k.height);
            if (k.width == 0) {
                k.width = 1
            }
            if (k.height == 0) {
                k.height = 1
            }
            return k
        }
    })();
    a.tlog = (function() {
        var i = '<div id="logBox"><div id="log_head"><div id="log_close" class="log_icon">╳</div><div id="log_min" class="log_icon">━</div></div><div id="log_text_wrap"><div id="log_text"></div></div></div>';
        var g = $('<div id="log_max"><div id="log_max_inner">＋</div></div>');
        var d = $(i);
        var e = d.find("#log_text");
        var j = d.find("#log_head");
        var f = {};
        var h = true;
        var c = 0;
        $(function() {
            var k = $("body");
            if (k.length < 0) {
                return
            }
            k.append(d);
            k.append(g);
            j.on("touchstart", function(l) {
                l.preventDefault();
                l.stopPropagation();
                var m = l.originalEvent.targetTouches[0];
                f.x = m.pageX;
                f.y = m.pageY
            }).on("touchmove", function(l) {
                l.preventDefault();
                l.stopPropagation();
                var o = l.originalEvent.targetTouches[0];
                var n = d.offset().left + o.pageX - f.x;
                var m = d.offset().top + o.pageY - f.y;
                f.x = o.pageX;
                f.y = o.pageY;
                if (n > -0.2 * d.width() && n + 0.5 * d.width() < $(window).width()) {
                    d[0].style.left = n + "px"
                }
                if (m > 0 && m + 0.5 * d.height() < $(window).height()) {
                    d[0].style.top = m + "px"
                }
            });
            d.find("#log_close").on("touchstart", function() {
                g.hide();
                d.hide();
                e.empty();
                c = 0
            });
            d.find("#log_min").on("touchstart", function() {
                g.show();
                d.hide()
            });
            g.on("touchstart", function() {
                g.hide();
                d.show()
            });
            e.on("touchstart", ".log_flag", function() {
                var l = $(this).parent();
                if (l.hasClass("log_line_ellipsis")) {
                    l.removeClass("log_line_ellipsis")
                } else {
                    l.addClass("log_line_ellipsis")
                }
            });
            d.hide();
            g.hide()
        });
        return function(l, k) {
            if (arguments.length <= 1) {
                k = l;
                l = "###"
            }
            if (a.IsPC()) {
                console.log(l, k);
                return
            }
            if (a.getType(k) === "object" || a.getType(k) === "array") {
                k = $.toJSON(k)
            } else {
                k = String(k)
            }
            if (!m_debug) {
                return
            }
            $(function() {
                if (c === 0) {
                    d.show()
                }
                c++;
                var m = $('<div class="log_line log_line_ellipsis"><span class="log_flag"></span><span class="log_text"></span></div>');
                m.find(".log_flag").text(l);
                m.find(".log_text").text(k);
                e.append(m);
                $("#log_text_wrap")[0].scrollTop = $("#log_text_wrap")[0].scrollHeight
            })
        }
    })();
    (function(h) {
        function p(v, A) {
            var z = (v & 65535) + (A & 65535)
              , w = (v >> 16) + (A >> 16) + (z >> 16);
            return (w << 16) | (z & 65535)
        }
        function t(v, w) {
            return (v << w) | (v >>> (32 - w))
        }
        function e(B, y, w, v, A, z) {
            return p(t(p(p(y, B), p(v, z)), A), w)
        }
        function d(y, w, C, B, v, A, z) {
            return e((w & C) | ((~w) & B), y, w, v, A, z)
        }
        function j(y, w, C, B, v, A, z) {
            return e((w & B) | (C & (~B)), y, w, v, A, z)
        }
        function o(y, w, C, B, v, A, z) {
            return e(w ^ C ^ B, y, w, v, A, z)
        }
        function c(y, w, C, B, v, A, z) {
            return e(C ^ (w | (~B)), y, w, v, A, z)
        }
        function f(G, B) {
            G[B >> 5] |= 128 << ((B) % 32);
            G[(((B + 64) >>> 9) << 4) + 14] = B;
            var y, A, z, w, v, F = 1732584193, E = -271733879, D = -1732584194, C = 271733878;
            for (y = 0; y < G.length; y += 16) {
                A = F;
                z = E;
                w = D;
                v = C;
                F = d(F, E, D, C, G[y], 7, -680876936);
                C = d(C, F, E, D, G[y + 1], 12, -389564586);
                D = d(D, C, F, E, G[y + 2], 17, 606105819);
                E = d(E, D, C, F, G[y + 3], 22, -1044525330);
                F = d(F, E, D, C, G[y + 4], 7, -176418897);
                C = d(C, F, E, D, G[y + 5], 12, 1200080426);
                D = d(D, C, F, E, G[y + 6], 17, -1473231341);
                E = d(E, D, C, F, G[y + 7], 22, -45705983);
                F = d(F, E, D, C, G[y + 8], 7, 1770035416);
                C = d(C, F, E, D, G[y + 9], 12, -1958414417);
                D = d(D, C, F, E, G[y + 10], 17, -42063);
                E = d(E, D, C, F, G[y + 11], 22, -1990404162);
                F = d(F, E, D, C, G[y + 12], 7, 1804603682);
                C = d(C, F, E, D, G[y + 13], 12, -40341101);
                D = d(D, C, F, E, G[y + 14], 17, -1502002290);
                E = d(E, D, C, F, G[y + 15], 22, 1236535329);
                F = j(F, E, D, C, G[y + 1], 5, -165796510);
                C = j(C, F, E, D, G[y + 6], 9, -1069501632);
                D = j(D, C, F, E, G[y + 11], 14, 643717713);
                E = j(E, D, C, F, G[y], 20, -373897302);
                F = j(F, E, D, C, G[y + 5], 5, -701558691);
                C = j(C, F, E, D, G[y + 10], 9, 38016083);
                D = j(D, C, F, E, G[y + 15], 14, -660478335);
                E = j(E, D, C, F, G[y + 4], 20, -405537848);
                F = j(F, E, D, C, G[y + 9], 5, 568446438);
                C = j(C, F, E, D, G[y + 14], 9, -1019803690);
                D = j(D, C, F, E, G[y + 3], 14, -187363961);
                E = j(E, D, C, F, G[y + 8], 20, 1163531501);
                F = j(F, E, D, C, G[y + 13], 5, -1444681467);
                C = j(C, F, E, D, G[y + 2], 9, -51403784);
                D = j(D, C, F, E, G[y + 7], 14, 1735328473);
                E = j(E, D, C, F, G[y + 12], 20, -1926607734);
                F = o(F, E, D, C, G[y + 5], 4, -378558);
                C = o(C, F, E, D, G[y + 8], 11, -2022574463);
                D = o(D, C, F, E, G[y + 11], 16, 1839030562);
                E = o(E, D, C, F, G[y + 14], 23, -35309556);
                F = o(F, E, D, C, G[y + 1], 4, -1530992060);
                C = o(C, F, E, D, G[y + 4], 11, 1272893353);
                D = o(D, C, F, E, G[y + 7], 16, -155497632);
                E = o(E, D, C, F, G[y + 10], 23, -1094730640);
                F = o(F, E, D, C, G[y + 13], 4, 681279174);
                C = o(C, F, E, D, G[y], 11, -358537222);
                D = o(D, C, F, E, G[y + 3], 16, -722521979);
                E = o(E, D, C, F, G[y + 6], 23, 76029189);
                F = o(F, E, D, C, G[y + 9], 4, -640364487);
                C = o(C, F, E, D, G[y + 12], 11, -421815835);
                D = o(D, C, F, E, G[y + 15], 16, 530742520);
                E = o(E, D, C, F, G[y + 2], 23, -995338651);
                F = c(F, E, D, C, G[y], 6, -198630844);
                C = c(C, F, E, D, G[y + 7], 10, 1126891415);
                D = c(D, C, F, E, G[y + 14], 15, -1416354905);
                E = c(E, D, C, F, G[y + 5], 21, -57434055);
                F = c(F, E, D, C, G[y + 12], 6, 1700485571);
                C = c(C, F, E, D, G[y + 3], 10, -1894986606);
                D = c(D, C, F, E, G[y + 10], 15, -1051523);
                E = c(E, D, C, F, G[y + 1], 21, -2054922799);
                F = c(F, E, D, C, G[y + 8], 6, 1873313359);
                C = c(C, F, E, D, G[y + 15], 10, -30611744);
                D = c(D, C, F, E, G[y + 6], 15, -1560198380);
                E = c(E, D, C, F, G[y + 13], 21, 1309151649);
                F = c(F, E, D, C, G[y + 4], 6, -145523070);
                C = c(C, F, E, D, G[y + 11], 10, -1120210379);
                D = c(D, C, F, E, G[y + 2], 15, 718787259);
                E = c(E, D, C, F, G[y + 9], 21, -343485551);
                F = p(F, A);
                E = p(E, z);
                D = p(D, w);
                C = p(C, v)
            }
            return [F, E, D, C]
        }
        function q(w) {
            var x, v = "";
            for (x = 0; x < w.length * 32; x += 8) {
                v += String.fromCharCode((w[x >> 5] >>> (x % 32)) & 255)
            }
            return v
        }
        function k(w) {
            var x, v = [];
            v[(w.length >> 2) - 1] = undefined;
            for (x = 0; x < v.length; x += 1) {
                v[x] = 0
            }
            for (x = 0; x < w.length * 8; x += 8) {
                v[x >> 5] |= (w.charCodeAt(x / 8) & 255) << (x % 32)
            }
            return v
        }
        function l(v) {
            return q(f(k(v), v.length * 8))
        }
        function g(x, A) {
            var w, z = k(x), v = [], y = [], B;
            v[15] = y[15] = undefined;
            if (z.length > 16) {
                z = f(z, x.length * 8)
            }
            for (w = 0; w < 16; w += 1) {
                v[w] = z[w] ^ 909522486;
                y[w] = z[w] ^ 1549556828
            }
            B = f(v.concat(k(A)), 512 + A.length * 8);
            return q(f(y.concat(B), 512 + 128))
        }
        function u(y) {
            var A = "0123456789abcdef", w = "", v, z;
            for (z = 0; z < y.length; z += 1) {
                v = y.charCodeAt(z);
                w += A.charAt((v >>> 4) & 15) + A.charAt(v & 15)
            }
            return w
        }
        function n(v) {
            return unescape(encodeURIComponent(v))
        }
        function r(v) {
            return l(n(v))
        }
        function m(v) {
            return u(r(v))
        }
        function i(v, w) {
            return g(n(v), n(w))
        }
        function s(v, w) {
            return u(i(v, w))
        }
        h.md5 = function(w, x, v) {
            if (!x) {
                if (!v) {
                    return m(w)
                } else {
                    return r(w)
                }
            }
            if (!v) {
                return s(x, w)
            } else {
                return i(x, w)
            }
        }
    }(typeof jQuery === "function" ? jQuery : this));
    a.encodeBase64 = function(k) {
        var j, h, f;
        var d = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
        var g = 0
          , c = k.length
          , e = "";
        while (g < c) {
            j = k.charCodeAt(g++) & 255;
            if (g == c) {
                e += d.charAt(j >> 2);
                e += d.charAt((j & 3) << 4);
                e += "==";
                break
            }
            h = k.charCodeAt(g++);
            if (g == c) {
                e += d.charAt(j >> 2);
                e += d.charAt(((j & 3) << 4) | ((h & 240) >> 4));
                e += d.charAt((h & 15) << 2);
                e += "=";
                break
            }
            f = k.charCodeAt(g++);
            e += d.charAt(j >> 2);
            e += d.charAt(((j & 3) << 4) | ((h & 240) >> 4));
            e += d.charAt(((h & 15) << 2) | ((f & 192) >> 6));
            e += d.charAt(f & 63)
        }
        return e
    }
    ;
    a.imgReady = (function() {
        var f = []
          , e = null
          , d = function() {
            var g = 0;
            for (; g < f.length; g++) {
                f[g].end ? f.splice(g--, 1) : f[g]()
            }
            !f.length && c()
        }
          , c = function() {
            clearInterval(e);
            e = null
        }
        ;
        return function(h, m, o, l) {
            var n, i, p, k, g, j = new Image();
            if (typeof h === "object") {
                j = h
            } else {
                j.src = h
            }
            if (j.complete) {
                m.call(j);
                o && o.call(j);
                return
            }
            i = j.width;
            p = j.height;
            j.onerror = function() {
                l && l.call(j);
                n.end = true;
                j = j.onload = j.onerror = null
            }
            ;
            n = function() {
                k = j.width;
                g = j.height;
                if (k !== i || g !== p || k * g > 1024) {
                    m.call(j);
                    n.end = true
                }
            }
            ;
            n();
            j.onload = function() {
                !n.end && n();
                o && o.call(j);
                j = j.onload = j.onerror = null
            }
            ;
            if (!n.end) {
                f.push(n);
                if (e === null ) {
                    e = setInterval(d, 40)
                }
            }
        }
    })();
    a.initEdit = function(d) {
        var o = d.origin
          , k = d.originDef
          , r = d.originMod
          , c = {};
        (function() {
            if (!r) {
                return
            }
            $.each(r, function(s, u) {
                var v = o[s];
                if (u.css) {
                    function t(w) {
                        if (typeof w.opt !== "undefined") {
                            w.opt = 0
                        }
                        if (w.tra !== "undefined") {
                            w.defTra = w.tra
                        }
                        w.defVal = w.val
                    }
                    $.each(u.css, function(w, x) {
                        if (x.css) {
                            $.each(x.css, function(y, z) {
                                t(z)
                            })
                        } else {
                            t(x)
                        }
                    });
                    if (g_config.isNewGame) {
                        $.extend(true, v.css, u.css)
                    }
                }
                if (u.text) {
                    $.each(u.text, function(w, x) {
                        if (g_config.isNewGame) {
                            $.extend(true, v.text, u.text)
                        }
                        if (x.type == 2) {
                            x.txtopt = 0;
                            delete x.numLimit
                        }
                    })
                }
            });
            $.extend(true, k, r)
        })();
        function q(t, z) {
            var A = "getImgInfo-" + t;
            if (z) {
                A = "getImgInfo-rem-" + t
            }
            var w = c[A];
            if (w) {
                return w
            }
            var v = h(t)[0];
            if (!v) {
                return
            }
            w = {
                name: t,
                css: v.css
            };
            if (v.path) {
                if (a.getType(v.path[0]) === "array") {
                    w.path = [];
                    for (var s = 0; s < v.path.length; s++) {
                        w.path[s] = a.getSrc(v.path[s][0])
                    }
                } else {
                    w.path = a.getSrc(v.path[0])
                }
            }
            var x = z ? parseFloat : parseRemToPx;
            var B = {
                size: ["width", "height"],
                pos: ["left", "top"]
            };
            for (var A in B) {
                var y = B[A];
                var u = v[A];
                if (!u) {
                    continue
                }
                if (a.getType(u) === "array") {
                    w[y[0]] = [],
                    w[y[1]] = [];
                    $.each(u, function(C, D) {
                        w[y[0]].push(x(D[y[0]]));
                        w[y[1]].push(x(D[y[1]]))
                    })
                } else {
                    w[y[0]] = x(u[y[0]]);
                    w[y[1]] = x(u[y[1]])
                }
            }
            c[A] = w;
            return w
        }
        function l(w, t, s) {
            var v = s ? t.defVal : t.val;
            var u = s ? t.defTra : t.tra;
            if (t.from) {
                w = $(t.from)
            }
            if (t.type !== "color") {
                w.css(t.name, v)
            } else {
                if (t.name === "text-shadow") {
                    w.css(t.name, g(j(v, u)))
                } else {
                    w.css(t.name, j(v, u))
                }
            }
        }
        function g(s) {
            return s + " -1px -1px 0px, " + s + " 0px -1px 0px, " + s + " 1px -1px 0px, " + s + " 1px 0px 0px, " + s + " 1px 1px 0px, " + s + " 0px 1px 0px, " + s + " -1px 1px 0px, " + s + " -1px 0px 0px"
        }
        function j(t, s) {
            if (typeof s === "undefined") {
                return t
            }
            return "rgba" + t.substring(t.indexOf("("), t.indexOf(")")) + "," + (s ? s : 0) + ")"
        }
        function h(t) {
            for (var u = 0; u < o.length; u++) {
                var s = o[u];
                if (s.name === t) {
                    return [s, k[u]]
                }
            }
            return [false, false]
        }
        function f(u, t) {
            var s = {};
            s.from = u;
            s.title = t[1];
            s.limit = t[2];
            s.defSrc = a.getSrc(t[0]);
            return s
        }
        function p(s, t) {
            s.each(function() {
                if (/img/i.test($(this)[0].nodeName)) {
                    $(this).attr("src", t)
                } else {
                    $(this).css("background-image", 'url("' + t + '")')
                }
            })
        }
        function n(t, s) {
            a.getType(s) === "undefined" && (s = 0);
            return a.getType(t) === "array" ? (t[s] || t[0]) : t
        }
        function m(Q) {
            var P = typeof Q === "object" ? Q : h(Q)
              , w = P[0]
              , G = P[1]
              , Q = w.name
              , y = $(".editTarget-" + Q)
              , x = w.pos
              , D = w.size
              , E = w.path
              , t = G.size
              , v = G.pos;
            y = y.not(function() {
                return $(this).data("hasBindEdit")
            });
            var F = (a.getType(v) === "array" && a.getType(t) !== "array");
            y.each(function(W) {
                var U = n(x, W)
                  , T = n(D, W)
                  , S = n(t, W)
                  , V = n(v, W);
                if (T) {
                    $(this).addClass("slaveImg");
                    if (!$(this).parents().hasClass("imgContainer")) {
                        $(this).wrap('<div class="imgContainer absCenter"></div>')
                    }
                    if (!S.disable) {
                        if (F) {
                            var R = null ;
                            $(this).addResizableFn("start", function(Y, Z) {
                                R = y.not(this);
                                if (/n|w/.test(Z.axis)) {
                                    R.each(function(ab, ad) {
                                        var aa = $(this)
                                          , ac = aa.parents(".ui-wrapper");
                                        aa.data("originalPosition-relative", {
                                            left: parseFloat(ac.css("left")) - Z.originalPosition.left,
                                            top: parseFloat(ac.css("top")) - Z.originalPosition.top,
                                        })
                                    })
                                }
                            });
                            $(this).addResizableFn("resize", function(Z, ab) {
                                var Y = /n|w/.test(ab.axis), aa;
                                R.each(function(ad, af) {
                                    var ac = $(this)
                                      , ae = ac.parents(".ui-wrapper");
                                    ac.add(ae).css({
                                        width: ab.size.width,
                                        height: ab.size.height
                                    });
                                    if (Y) {
                                        aa = ac.data("originalPosition-relative");
                                        ac.add(ae).css({
                                            left: ab.position.left + aa.left,
                                            top: ab.position.top + aa.top
                                        })
                                    }
                                })
                            });
                            $(this).addResizableFn("stop", function(Y, Z) {
                                R.each(function(aa, ab) {
                                    $(this).removeData("originalPosition-relative").attr("resize", "1")
                                });
                                R = null
                            })
                        }
                        var X = {
                            width: S.width,
                            height: S.height
                        };
                        if (V && V.disable) {
                            X.left = V.left;
                            X.top = V.top
                        }
                        a.moduleSlaveImgResize($(this), X);
                        if (F) {
                            $(this).addResizableFn("recover", function() {
                                var Y = $(this).parents(".ui-wrapper");
                                y.each(function(Z, aa) {
                                    if (Z === W) {
                                        return
                                    }
                                    var ac = $(aa).add($(aa).parents(".ui-wrapper"));
                                    ac.width(Y.width()).height(Y.height());
                                    var ab = n(v, Z);
                                    if (ab && ab.disable) {
                                        ac.css({
                                            left: ab.left,
                                            top: ab.top
                                        })
                                    }
                                    ac.attr("resize", 0)
                                })
                            })
                        }
                    }
                }
                if (U && !V.disable) {
                    if (V.forParent != "false" && !$(this).parents().hasClass("imgContainer")) {
                        $(this).wrap('<div class="imgContainer absCenter"></div>')
                    }
                    a.moduleDraggale($(this), V.forParent == "false" ? false : true)
                }
            });
            var A = -2
              , O = null
              , u = false
              , N = null
              , I = true;
            if (G.edit) {
                if (typeof G.edit === "number") {
                    A = G.edit
                } else {
                    if (G.edit === "_background") {
                        !d.bgList && (d.bgList = []);
                        d.bgList.push({
                            from: ".editTarget-" + Q + ",.editRelate-" + Q,
                            defSrc: a.getSrc(E[0])
                        });
                        y.data("hasBindEdit", true);
                        return
                    } else {
                        if (G.edit !== "_none") {
                            O = [];
                            if (c[G.edit]) {
                                O = c[G.edit]
                            } else {
                                var C = [];
                                if (G.edit === "all") {
                                    C = d.originDef
                                } else {
                                    $.each(G.edit.split(","), function(R, S) {
                                        C.push(h(S)[1])
                                    })
                                }
                                for (var M = 0; M < C.length; M++) {
                                    var B = C[M].path;
                                    var H = C[M].name;
                                    var s = ".editTarget-" + H + ",.editRelate-" + H;
                                    if (typeof B != "undefined") {
                                        if (a.getType(B[0]) === "array") {
                                            for (var J = 0; J < B.length; J++) {
                                                J > 0 && (s = ".editTarget-" + H + "-" + J + ",.editRelate-" + H + "-" + J);
                                                O.push(f(s, B[J]))
                                            }
                                        } else {
                                            O.push(f(s, B))
                                        }
                                    }
                                }
                                !c[G.edit] && (c[G.edit] = O)
                            }
                            A = -1
                        } else {
                            I = false
                        }
                    }
                }
            } else {
                I = false
            }
            if (G.css || G.cssAll) {
                if (G.cssAll) {
                    N = [];
                    $.each(G.cssAll, function(R, S) {
                        if (h(S)[1].css) {
                            N = N.concat(h(S)[1].crrCssArg)
                        }
                    })
                } else {
                    N = G.crrCssArg
                }
                u = !N[0].targetName ? true : N[0].targetName
            }
            var z = "editTarget-" + Q
              , L = null
              , K = false;
            if (G.text) {
                I = !G.text[0].targetName ? true : G.text[0].targetName;
                w.text = $.extend(true, [], G.text, w.text);
                if (G.text[0].type == 1) {
                    I = false
                }
                if (w.text.filter(function(R) {
                    return R.type == 2
                }).length > 0) {
                    A = 0;
                    z = function() {
                        i.call(this, w.text, G.text, Q)
                    }
                }
            }
            if (G.edit || N) {
                a.initModuleLayer(y, A, z, O, u, N, I)
            }
            y.data("hasBindEdit", true)
        }
        function i(v, s, u) {
            $$("#uploadBg").fadeIn(200);
            $$("#uploadImgBox").css("left", $$(".editDetail").offset().left + 12).removeClass("uploadUp").addClass("uploadDown");
            var w = $$("#uploadInfoBox");
            w.css("overflow-y", "auto").html("");
            $$("#uploadBoxTitle").html(s[0].allTitel || "编辑内容");
            $.each(v, function(D, z) {
                if (z.type != 2) {
                    return
                }
                var G = s[D];
                !G.from && (G.from = ".editTarget-" + u + ",.editRelate-" + u);
                var F = z.val;
                var C = G.numLimit;
                if (a.getType(C) != "array") {
                    C = [0, C]
                }
                var B = C[0];
                var I = C[1];
                var H = z.txtopt;
                var K = z.shouInput;
                var L = "";
                var A = G.val;
                var J = $(G.from);
                L += '<div class="uploadLine"  >';
                if (z.shouInput) {
                    L += y((G.title || "文字内容") + "：", "内容", F, "title")
                } else {
                    L += x((G.title || "文字内容") + "：", "内容", F, "title", D, H)
                }
                L += "</div>";
                w.append(L);
                var E = $$(".newTextArea .activeInput").eq(D);
                E.off().on("blur", function() {
                    var M = $(this).val();
                    if ($.trim(M).length <= B) {
                        if (!$(this).hasClass("inputErr")) {
                            $(this).addClass("inputErr")
                        }
                        $(this).parent().find(".editErr").show().text("输入的文字不可少于" + B + "个！");
                        J.text(z.val)
                    }
                    var N = J.data("hd-editUpload-textBlur");
                    N && N.fireWith(this, [z, G, J])
                }).on("focus", function() {
                    $(this).removeClass("inputErr");
                    $(this).parent().find(".editErr").hide();
                    $(this).parent().find(".editErr2").hide();
                    var M = J.data("hd-editUpload-textFocus");
                    M && M.fireWith(this, [z, G, J])
                }).on("keyup", function() {
                    var O = $(this).val();
                    O = O.substr(0, I);
                    var M = $.trim($(this).val()).length;
                    if (M > I) {
                        $(this).val(O)
                    }
                    J.text(O);
                    if (t(M, B, I)) {
                        z.val = O
                    }
                    var N = J.data("hd-editUpload-textKeyUp");
                    if (N) {
                        N.fireWith(this, [z, G])
                    }
                });
                if (H) {
                    E.css("display", "inline-block").val(z.val)
                } else {
                    E.hide()
                }
                $$("#TheOnlyOne" + D + "").on("click", function() {
                    z.txtopt = 0;
                    J.text(A);
                    $$(".newTextArea .activeInput").hide().removeClass("inputErr").val(A);
                    $$(".newTextArea .activeInput").siblings(".editErr").hide();
                    $$(".newTextArea .activeInput").siblings(".editErr2").hide()
                });
                $$("#TheOnlytwo" + D + "").on("click", function() {
                    z.txtopt = 1;
                    $$(".newTextArea .activeInput").css("display", "inline-block").val(z.val);
                    J.text(z.val)
                })
            });
            g_config.closeWin && g_config.closeWin();
            function t(A, B, z) {
                if (typeof z !== "undefined") {
                    return A > B && A <= z
                } else {
                    return A > B
                }
            }
            function y(D, A, B, z) {
                var C = B;
                C = a.encodeHtml(C);
                return '<div class="answerLine clearfix"><div class="floatLeft newTextT" style="width: 70px; margin-top: 12px" >' + D + '</div><div style="width: 320px;" class="floatLeft"><div class="newTextArea"><input type="text" class="input scrollBox activeInput" style="width: 300px;height: 32px; padding-left: 5px;" value="' + C + '" ' + (isPublish ? "disabled" : "") + '><div style="color:#888; padding-top: 5px;">确认发布后无法修改，请认真输入！</div><div class="editErr hide" style="color: red;margin-top: 10px;">输入文字不能为空</div><div class="editErr2 hide" style="color: red; margin-top: 10px; display: none;">输入仅限中文字母跟数字</div></div></div></div>'
            }
            function x(E, A, G, F, C, D) {
                var z = G;
                z = a.encodeHtml(z);
                var H = D ? "checked" : "";
                var B = D ? "" : "checked";
                return '<div class="answerLine clearfix"><div class="floatLeft newTextT" style="width: 100px;">' + E + '</div><div class="floatLeft" style="width: 320px;"><div><input id="TheOnlyOne' + C + '" type="radio" name="theRealOnly"' + B + '><label for="TheOnlyOne' + C + '" style="height: 16px;line-height: 16px;">默认</label><input id="TheOnlytwo' + C + '" type="radio" name="theRealOnly"' + H + '><label for="TheOnlytwo' + C + '" style="height: 16px;line-height: 16px;">自定义</label></div><div class="newTextArea" style="margin-top: 12px;"><textarea class="input scrollBox activeInput" style="width: 300px;height: 100px;">' + z + '</textarea><div class="editErr hide" style="color: red;margin-top: 10px;">输入文字不可少于10个！</div><div class="editErr2 hide" style="color: red; margin-top: 10px; display: none;">输入仅限中文</div></div></div></div>'
            }
            return false
        }
        if (_manage) {
            d.setAllEdit = function() {
                e();
                $.each(k, function(s, t) {
                    if (t.css) {
                        t.crrCssArg = $.extend(true, [], t.css, o[s].css)
                    }
                });
                $.each(o, function(t, s) {
                    m([s, k[t]])
                })
            }
        } else {
            e()
        }
        function e() {
            $.each(o, function(v, t) {
                var w = k[v]
                  , u = $(".editTarget-" + t.name)
                  , x = t.pos
                  , A = t.size
                  , z = t.path;
                var s = function(B) {
                    B.each(function(E) {
                        var D = n(x, E)
                          , C = n(A, E);
                        if (D && D.top && D.left) {
                            $(this).css({
                                top: D.top,
                                left: D.left
                            }).addClass("abs")
                        }
                        if (C && C.width && C.height) {
                            $(this).css({
                                width: C.width,
                                height: C.height
                            })
                        }
                    })
                }
                ;
                s(u);
                if (z) {
                    var y = ".editRelate-" + t.name;
                    if (a.getType(z[0]) === "array") {
                        $.each(z, function(C, E) {
                            var D = a.getSrc(E[0]);
                            var B = "editTarget-" + t.name;
                            if (C !== 0) {
                                B = "editTarget-" + t.name + "-" + C;
                                y = ".editRelate-" + t.name + "-" + C
                            }
                            if ($("." + B).length > 0) {
                                p($("." + B), D);
                                s($("." + B))
                            } else {
                                $("body").append('<input class="' + B + '" type="hidden" value="' + D + '">')
                            }
                            if ($(y).length > 0) {
                                p($(y), D)
                            }
                        })
                    } else {
                        p(u.add(y), a.getSrc(z[0]))
                    }
                }
                if (t.css) {
                    $.extend(true, w.css, t.css);
                    $.each(w.css, function(B, C) {
                        if (!C.from) {
                            C.from = ".editTarget-" + t.name + ",.editRelate-" + t.name
                        }
                        if (C.css) {
                            $.each(C.css, function(E, D) {
                                if (!D.from) {
                                    D.from = C.from
                                }
                                l($(D.from), D, D.opt === 0)
                            })
                        } else {
                            l($(C.from), C, C.opt === 0)
                        }
                    })
                }
                if (t.text) {
                    $.each(t.text, function(C, D) {
                        var B = w.text[C];
                        !B.from && (B.from = ".editTarget-" + t.name + ",.editRelate-" + t.name);
                        if (B.type == 2) {
                            var E = Fai.encodeHtml(D.txtopt ? D.val : B.val);
                            $(B.from).html(E)
                        } else {
                            $(B.from).val(D.value)
                        }
                    })
                }
            })
        }
        d.getImgInfo = q;
        d.getRgba = j;
        d.initEdit = e;
        delete d.originMod;
        return d
    }
    ;
    a.initSound = function(d, e) {
        var c = {};
        var f = LF.sound.webAudioEnabled && LF.global.webAudio;
        $(function() {
            $.setSoundM()
        });
        return {
            list: d,
            listDef: e,
            allowPlay: true,
            setPlayPower: function(h, i) {
                if (typeof h == "boolean") {
                    this.allowPlay = h
                }
                var g = c[h];
                if (!g) {
                    a.tlog("Sound_play_err", "这个key:" + h + " 不存在!");
                    return this
                }
                g._allowPlay = i
            },
            play: function(j, k, i) {
                if (_manage) {
                    return
                }
                if (!this.allowPlay) {
                    return this
                }
                if (d && a.getType(j) === "number") {
                    var h = j === 0 ? 1 : 3;
                    if (d[j].optFlag === h) {
                        return this
                    }
                }
                if (j !== 0 && d && d[0].optFlag !== 1 && !f) {
                    return this
                }
                var g = c[j];
                if (!g) {
                    a.tlog("Sound_play_err", "这个key:" + j + " 不存在!");
                    return this
                }
                if (!g._allowPlay) {
                    return
                }
                g.play(k, i);
                return this
            },
            readyPlay: function(i, j, g) {
                if (_manage) {
                    return
                }
                var h = this;
                h.onReady(i, function() {
                    h.play(i, j, g)
                })
            },
            pause: function(h) {
                if (_manage) {
                    return
                }
                var g = c[h];
                if (!g) {
                    a.tlog("Sound_pause_err", "这个key:" + h + " 不存在!");
                    return this
                }
                g.stop();
                return this
            },
            pauseAll: function() {
                if (_manage) {
                    return
                }
                var g = null ;
                for (var h in c) {
                    g = c[h];
                    if (g) {
                        g.stop()
                    }
                }
                return this
            },
            load: function(l, h, i) {
                if (_manage) {
                    return
                }
                if (c[h]) {
                    a.tlog("Sound_load_err", "这个key:" + h + " 已经存在!");
                    return this
                }
                var g = null
                  , k = f;
                typeof i !== "undefined" && (k = i);
                if (k) {
                    g = new LF.webAudio()
                } else {
                    g = new LF.media();
                    try {
                        g.data = new Audio()
                    } catch (j) {
                        console.warn("ReferenceError: Can't find variable: Audio");
                        g.data = {}
                    }
                    g.data.loop = false;
                    g.data.autoplay = false
                }
                g._type = "audio";
                if (l) {
                    g.load(l)
                }
                g.readyCallBack = $.Callbacks("unique memory");
                g.addEventListener(LF.event.COMPLETE, function(m) {
                    g.complete = true;
                    g.readyCallBack.fire(g);
                    g.readyCallBack = null
                });
                g._allowPlay = true;
                c[h] = g;
                return this
            },
            onReady: function(h, i) {
                if (_manage) {
                    return
                }
                var g = c[h];
                if (!g) {
                    a.tlog("Sound_onReady_err", "这个key:" + h + " 不存在!");
                    return this
                }
                if (g.complete) {
                    i(g)
                } else {
                    g.readyCallBack.add(i)
                }
                return this
            },
            cache: c,
        }
    }
    ;
    a.initCallBack = function(d, c) {
        d = d || {};
        var e = {};
        d.addCallBack = function(f) {
            if (a.getType(f) == "array") {
                for (var g = f.length - 1; g >= 0; g--) {
                    arguments.callee(f[g])
                }
                return
            }
            if (typeof f == "string" && typeof e[f] == "undefined") {
                e[f] = null
            }
        }
        ;
        d.on = function(f, h) {
            var g = e[f];
            if (typeof g === "undefined") {
                return this
            }
            if (g === null ) {
                e[f] = g = $.Callbacks("unique memory stopOnFalse")
            }
            g.add(h);
            return this
        }
        ;
        d.off = function(f, i) {
            var h = this;
            if (typeof f === "undefined") {
                $.each(e, function(j, k) {
                    h.off(k, i)
                });
                return h
            }
            var g = e[f];
            if (!g) {
                return h
            }
            if (typeof i === "undefined") {
                g.empty()
            } else {
                g.remove(i)
            }
            return h
        }
        ;
        d.fire = function(g) {
            var f = e[g];
            if (f) {
                var h = Array.prototype.slice.call(arguments);
                h.shift();
                return f.fire.apply(f, h)
            }
            return true
        }
        ;
        d.fireWith = function(g) {
            var f = e[g];
            if (f) {
                var h = Array.prototype.slice.call(arguments);
                h.shift();
                return f.fireWith.apply(f, h)
            }
            return true
        }
        ;
        if (typeof c !== "undefined") {
            d.addCallBack(c)
        }
        return d
    }
    ;
    a.initTime = function(c) {
        var g = null , e, h = 0;
        function d(i) {
            var j = Math.round(i * 100) / 100;
            var k = j.toString();
            var l = k.indexOf(".");
            if (l < 0) {
                l = k.length;
                k += "."
            }
            while (k.length <= l + 2) {
                k += "0"
            }
            return k
        }
        var f = {
            val: 0,
            pastTime: 0,
            interval: 140,
            range: [70, 280],
            target: null ,
            isDesc: !g_config.countsTimeType,
            acceList: null ,
            initTime: c,
            status: "ended",
            updateFlag: true,
            targetFlag: true,
            frameInc: 0,
            setAcceList: function(k) {
                if (typeof k === "number") {
                    var l = k;
                    k = [];
                    for (var j = 0; j < l; j++) {
                        k.push((l - j) * (this.initTime / (l + 1)))
                    }
                }
                this.acceList = k
            },
            setTarget: function() {
                var i = d(this.val);
                this.targetFlag && this.target.text(i);
                this.fireWith("setTime", this, [i])
            },
            init: function() {
                if (this.initTime === 99999) {
                    return
                }
                !this.target && (this.target = $(".time"));
                this.val = this.initTime;
                this.pastTime = 0;
                $(".timeUpImg").hide();
                this.setTarget();
                return this
            },
            start: function() {
                if (this.initTime === 99999) {
                    return
                }
                e = new Date().getTime() / 1000;
                if (this.updateFlag && this.status === "ended") {
                    this.status = "runing";
                    this.play()
                } else {
                    this.status = "runing"
                }
                return this
            },
            isRunning: function() {
                return this.status === "runing"
            },
            pause: function() {
                this.status = "pause"
            },
            end: function() {
                if (this.status === "ended") {
                    return
                }
                clearTimeout(g);
                h = 0;
                this.update();
                this.status = "ended";
                return this
            },
            setTime: function() {
                var j = (new Date).getTime() / 1000;
                var n = j - e;
                var l = this.isDesc ? -1 : 1;
                if (n < this.range[0] / 1000) {
                    n = this.range[0] / 1000
                } else {
                    if (n > this.range[1] / 1000) {
                        n = this.range[1] / 1000
                    }
                }
                this.val += l * n;
                this.pastTime = l * (this.val - this.initTime);
                e = j;
                if (this.isDesc) {
                    if (this.acceList) {
                        for (var k = 0; k < this.acceList.length; k++) {
                            if (this.val <= this.acceList[k] && h == k) {
                                h++;
                                this.fireWith("acce", this, [h]);
                                break
                            }
                        }
                    }
                    if (this.val <= 0) {
                        this.val = 0;
                        this.setTarget();
                        clearTimeout(g);
                        h = 0;
                        this.status = "ended";
                        this.fireWith("end", this);
                        var m = $(".timeUpImg");
                        m.removeClass("tada");
                        m.addClass("tada");
                        m.show();
                        return
                    }
                }
                this.setTarget()
            },
            update: function() {
                if (this.initTime === 99999) {
                    return
                }
                if (this.status !== "pause") {
                    this.setTime()
                }
                this.fireWith("timer", this, [this.status !== "pause"])
            },
            play: function() {
                this.update();
                if (this.status !== "ended") {
                    g = setTimeout(arguments.callee.bind(this), this.interval)
                }
            },
            updateInFrame: function(i) {
                if (this.initTime === 99999) {
                    return
                }
                if (this.status === "ended") {
                    return
                }
                this.frameInc += i;
                if (this.frameInc >= this.interval) {
                    this.update();
                    this.frameInc = 0
                }
            }
        };
        a.initCallBack(f, ["end", "timer", "acce", "setTime"]);
        f.init();
        f.changeTwoDecimal_f = d;
        return f
    }
    ;
    a.initGrade = function() {
        var c = function(d) {
            c.set(c.val + d)
        }
        ;
        $.extend(c, {
            val: 0,
            set: function(d) {
                c.val = d;
                c.val < 0 && (c.val = 0);
                c.fireWith("setGrade", c, [c.val]);
                c.target && c.target.text(c.val)
            }
        });
        $(function() {
            c.target = $("#grade")
        });
        a.initCallBack(c, ["setGrade"]);
        return c
    }
    ;
    a.getSrc = function(c) {
        return c.replace("*_resRoot*", _resRoot)
    }
    ;
    a.setCookie = function(d, e, c) {
        var f = new Date();
        f.setDate(f.getDate() + c);
        document.cookie = d + "=" + escape(e) + ((c == null ) ? "" : ";expires=" + f.toGMTString())
    }
    ;
    a.getCookie = function(c) {
        if (document.cookie.length > 0) {
            c_start = document.cookie.indexOf(c + "=");
            if (c_start != -1) {
                c_start = c_start + c.length + 1;
                c_end = document.cookie.indexOf(";", c_start);
                if (c_end == -1) {
                    c_end = document.cookie.length
                }
                return unescape(document.cookie.substring(c_start, c_end))
            }
        }
        return ""
    }
    ;
    a.setLocalStorage = function(d, e, c) {
        if (!localStorage) {
            if (c) {
                a.setCookie(d, e, c)
            }
            a.tlog("不支持localStorage");
            return
        }
        localStorage.setItem(d, e)
    }
    ;
    a.getLocalStorage = function(d, c) {
        if (!localStorage) {
            if (c) {
                return a.getCookie(d)
            }
            a.tlog("不支持localStorage");
            return ""
        }
        return localStorage.getItem(d)
    }
    ;
    a.refresh = function() {
        window.location.reload()
    }
    ;
    a.noLoadingRefresh = function() {
        window.location.href = document.URL.indexOf("noLoading") >= 0 ? document.URL : (document.URL + (document.URL.indexOf("?") >= 0 ? "&" : "?") + "noLoading=fff")
    }
    ;
    a.isIPhone = function() {
        return window.navigator.userAgent.indexOf("iPhone") !== -1
    }
    ;
    a.IsPC = function() {
        var c = navigator.userAgent;
        var f = ["Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod"];
        var d = true;
        for (var e = 0; e < f.length; e++) {
            if (c.indexOf(f[e]) > 0) {
                d = false;
                break
            }
        }
        return d
    }
    ;
    a.getType = function(c) {
        return Object.prototype.toString.call(c).match(/\[object\s(\w+)]/)[1].toLowerCase()
    }
    ;
    a.changeTimeLimit = function(c) {
        if (!c || c == "[8]") {
            return "周一至周日"
        }
        var f = $.parseJSON(c);
        var g = "";
        for (var e = 0; e < f.length; e++) {
            var h = e
              , d = e;
            while (f[d + 1] == (f[d] + 1)) {
                d++
            }
            if (h == d) {
                g = g + (g ? "、" : "") + b(f[h])
            } else {
                g = g + (g ? "、" : "") + b(f[h]) + "至" + b(f[d])
            }
            e = d
        }
        return g
    }
    ;
    function b(c) {
        switch (c) {
        case 1:
            return "周一";
        case 2:
            return "周二";
        case 3:
            return "周三";
        case 4:
            return "周四";
        case 5:
            return "周五";
        case 6:
            return "周六";
        case 7:
            return "周日"
        }
        return ""
    }
    a.jointUrlArg = function(d, c) {
        if (c) {
            return d + (d.indexOf("?") >= 0 ? "&" : "?") + c
        } else {
            return d
        }
    }
    ;
    a.setUrlArg = function() {
        if (arguments.length < 2) {
            return
        }
        var d = arguments[0]
          , g = Array.prototype.slice.call(arguments)
          , c = [d]
          , h = "";
        for (var e = 1; e < g.length; e++) {
            var f = g[e];
            if (a.getType(f) === "array") {
                c.push(f[0]);
                if (e > 1) {
                    h += "&"
                }
                h += (f[0] + "=" + f[1])
            }
        }
        d = a.removeUrlArg.apply(a, c);
        return a.jointUrlArg(d, h)
    }
    ;
    a.removeUrlArg = function() {
        var f = Array.prototype.slice.call(arguments)
          , c = f.length;
        if (c < 2) {
            return
        }
        var d = f[0];
        var g = d.split(/[?|&]/);
        var e = g.filter(function(k, h) {
            if (h === 0) {
                return false
            }
            var l = k.split("=")[0];
            for (var j = 1; j < f.length; j++) {
                if (l === f[j]) {
                    f.splice(j, 1);
                    return false
                }
            }
            return true
        }).join("&");
        d = a.jointUrlArg(g[0], e);
        return d
    }
    ;
    a.shuffle = function(e) {
        var d = e.length;
        for (var g = 0; g < d - 1; g++) {
            var c = Math.floor(Math.random() * (d - g));
            var f = e[c];
            e[c] = e[d - g - 1];
            e[d - g - 1] = f
        }
        return e
    }
    ;
    a.logErr = function(d, f, c) {
        if (typeof a.logErr[d] == "undefined") {
            a.logErr[d] = 0
        } else {
            a.logErr[d]++
        }
        if (a.logErr[d] > (c || 2)) {
            return
        }
        $.ajax({
            type: "post",
            url: g_config.ajaxUrl + "logJsErr_h.jsp?cmd=jsErr",
            data: "msg=setErr-" + d + " aid=" + g_config.aid + " gameId=" + g_config.gameId + " openId=" + g_config.openId + " err:" + f
        })
    }
    ;
    a.logDog = function(d, c) {
        if (g_config.testCMD.indexOf("oss") === -1 && (d !== 1000078 && _manage)) {
            return
        }
        $.ajax({
            type: "get",
            url: g_config.ajaxUrl + "log_h.jsp?cmd=dog&dogId=" + a.encodeUrl(d) + "&dogSrc=" + a.encodeUrl(c)
        })
    }
    ;
    a.logObjDog = function(e, c, d) {
        if (g_config.testCMD.indexOf("oss") === -1 && _manage) {
            return
        }
        $.ajax({
            type: "get",
            url: g_config.ajaxUrl + "log_h.jsp?cmd=dogObj&dogId=" + a.encodeUrl(e) + "&dogSrc=" + a.encodeUrl(c) + "&objId=" + a.encodeUrl(d),
        })
    }
})(HdGame);
